{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=10)}({10:function(e,t,n){\"use strict\";n.r(t);angular.module(\"userApp\",[\"appRoutes\",\"UserControllers\",\"userServices\",\"ngAnimate\",\"mainController\",\"authServices\",\"emailController\",\"navController\",\"profileController\",\"videoPlayer\",\"userTests\",\"blogController\",\"dashboardController\",\"dashboardAuthServices\",\"newCourseController\",\"hljs\"]).config([\"$httpProvider\",function(e){e.interceptors.push(\"AuthInterceptors\"),e.interceptors.push(\"AdminInterceptors\")}]).config([\"hljsServiceProvider\",function(e){e.setOptions({tabReplace:\"  \"})}]).run([\"$rootScope\",function(e){e.$on(\"$viewContentLoaded\",function(){$(\"footer, nav, section#detail_item, li.active\").fadeIn(500)})}]),angular.module(\"appRoutes\",[\"ngRoute\",\"ui.router\",\"ui.router.state.events\"]).config([\"$stateProvider\",\"$locationProvider\",\"$urlRouterProvider\",function(e,t,n){e.state(\"parent\",{abstract:!0,views:{navigation:{templateUrl:\"app/views/pages/users/navigation.html\"},footer:{templateUrl:\"app/views/pages/users/footer.html\"}}}).state(\"parent.home\",{url:\"/\",views:{\"content@\":{templateUrl:\"app/views/pages/users/home.html\"}}}).state(\"parent.blog\",{url:\"/blog\",views:{\"content@\":{templateUrl:\"app/views/pages/users/blog.html\",controller:\"blogCtrl\",controllerAs:\"blog\"}},authenticated:[!0,!1]}).state(\"parent.article\",{url:\"/blog/:id\",views:{\"content@\":{templateUrl:\"app/views/pages/users/singleArticle.html\",controller:\"singleArtCtrl\",controllerAs:\"singleArt\"}},authenticated:[!0,!1]}).state(\"parent.register\",{url:\"/register\",views:{\"content@\":{templateUrl:\"app/views/pages/users/register.html\",controller:\"regCtrl\",controllerAs:\"register\"}},authenticated:!1}).state(\"parent.Home\",{url:\"/home\",views:{\"content@\":{templateUrl:\"app/views/pages/users/home.html\"}},authenticated:!0}).state(\"404\",{url:\"/404\",views:{content:{templateUrl:\"app/views/pages/users/404.html\",controller:\"NoFoundCtrl\",controllerAs:\"NoFound\"}},authenticated:[!0,!1]}).state(\"parent.seeMore\",{url:\"/course/details/:id\",views:{\"content@\":{templateUrl:\"app/views/pages/users/navigation/see-more.html\",controller:\"seeMoreCtrl\",controllerAs:\"seeMore\"}},authenticated:[!0,!1]}).state(\"parent.courses\",{url:\"/courses\",views:{\"content@\":{templateUrl:\"app/views/pages/users/navigation/courses.html\",controller:\"navCtrl\",controllerAs:\"navi\"}},authenticated:[!0,!1]}).state(\"parent.cart\",{url:\"/cart\",views:{\"content@\":{templateUrl:\"app/views/pages/shopping/cart.html\",controller:\"shoppingCtrl\",controllerAs:\"shopping\"}},authenticated:!0}).state(\"parent.checkout\",{url:\"/checkout\",views:{\"content@\":{templateUrl:\"app/views/pages/checkout/checkout.html\",controller:\"checkoutCtrl\",controllerAs:\"checkout\"}},authenticated:!0}).state(\"parent.contact\",{url:\"/contact\",views:{\"content@\":{templateUrl:\"app/views/pages/users/navigation/contact.html\",controller:\"contactCtrl\",controllerAs:\"contact\"}},authenticated:[!0,!1]}).state(\"parent.aboutMe\",{url:\"/about-us\",views:{\"content@\":{templateUrl:\"app/views/pages/users/navigation/about.html\",controller:\"aboutCtrl\",controllerAs:\"about\"}},authenticated:[!0,!1]}).state(\"logout\",{url:\"/logout\",templateUrl:\"app/views/pages/users/logout.html\",authenticated:!0}).state(\"parent.profile\",{url:\"/profile\",views:{\"content@\":{templateUrl:\"app/views/pages/users/profile.html\",controller:\"profileCtrl\",controllerAs:\"profile\"}},authenticated:!0}).state(\"parent.video\",{url:\"/account/courses\",views:{\"content@\":{templateUrl:\"app/views/pages/users/myVideo.html\",controllerAs:\"video\",controller:\"videoCtrl\"}},authenticated:!0}).state(\"parent.history\",{url:\"/bills\",views:{\"content@\":{templateUrl:\"app/views/pages/users/myOrders.html\",controllerAs:\"orders\",controller:\"ordersCtrl\"}},authenticated:!0}).state(\"parent.myCourse\",{url:\"/account/courses/:username/:id\",views:{\"content@\":{templateUrl:\"app/views/pages/users/userCourse.html\",controllerAs:\"videoDetail\",controller:\"videoCtrlDetail\"}},authenticated:!0}).state(\"parent.tests\",{url:\"/myTests\",views:{\"content@\":{templateUrl:\"app/views/pages/users/myTests.html\",controller:\"testsCtrl\",controllerAs:\"test\"}},authenticated:!0}).state(\"parent.test\",{url:\"/test\",views:{\"content@\":{templateUrl:\"app/views/pages/users/test.html\",controller:\"testsCtrl\",controllerAs:\"test\"}},authenticated:!0}).state(\"parent.activate\",{url:\"/activate/:token\",views:{\"content@\":{templateUrl:\"app/views/pages/users/activation/activate.html\",controller:\"emailCtrl\",controllerAs:\"email\"}},authenticated:!1}).state(\"parent.resend\",{url:\"/resend\",views:{\"content@\":{templateUrl:\"app/views/pages/users/activation/resend.html\",controller:\"resendCtrl\",controllerAs:\"resend\"}},authenticated:!1}).state(\"parent.resetUsername\",{url:\"/resetusername\",views:{\"content@\":{templateUrl:\"app/views/pages/users/reset/username.html\",controller:\"usernameCtrl\",controllerAs:\"username\"}},authenticated:!1}).state(\"parent.resetPassword\",{url:\"/resetpassword\",views:{\"content@\":{templateUrl:\"app/views/pages/users/reset/password.html\",controller:\"passwordCtrl\",controllerAs:\"password\"}},authenticated:!1}).state(\"parent.resetToken\",{url:\"/reset/:token\",views:{\"content@\":{templateUrl:\"app/views/pages/users/reset/newpassword.html\",controller:\"resetCtrl\",controllerAs:\"reset\"}},authenticated:!1}).state(\"adminLogin\",{url:\"/dashboard/admin/login\",views:{\"content@\":{templateUrl:\"app/views/pages/management/dashboardLogin.html\",controller:\"dashboardCtrl\",controllerAs:\"dashboard\"}},authenticated:!0,permission:\"admin\"}).state(\"adminRegister\",{url:\"/dashboard/admin/register\",views:{content:{templateUrl:\"app/views/pages/management/dashboardRegister.html\",controller:\"dashboardCtrl\",controllerAs:\"dashboard\"}},authenticated:!0,permission:\"admin\"}).state(\"adminResend\",{url:\"/dashboard/admin/resend\",templateUrl:\"app/views/pages/users/activation/resendAdmin.html\",controller:\"resendAdminCtrl\",controllerAs:\"resendAdmin\",authenticated:!0,permission:\"admin\"}).state(\"parent.adminActivate\",{url:\"/dashboard/admin/activate/:token\",views:{\"content@\":{templateUrl:\"app/views/pages/users/activation/activate.html\",controller:\"activateAdminCtrl\",controllerAs:\"activateAdmin\"}},authenticated:!0,permission:\"admin\"}).state(\"dashboard\",{abstract:!0,views:{\"content@\":{templateUrl:\"app/views/pages/management/dashboard.html\",controller:\"dashboardCtrl\",controllerAs:\"dashboard\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.aboutAdmin\",{url:\"/dashboard/admin/description/\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/aboutAdmin.html\",controller:\"aboutAdminCtrl\",controllerAs:\"aboutAdmin\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.editAdmin\",{url:\"/dashboard/admin/settings/\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/editAdmin.html\",controller:\"editAdminCtrl\",controllerAs:\"editAdmin\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.panel\",{url:\"/dashboard/admin/panel\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/homePage.html\",controller:\"homePageCtrl\",controllerAs:\"homePage\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.adminUsers\",{url:\"/dashboard/admin/users\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/users.html\",controller:\"manageUserCtrl\",controllerAs:\"manageUser\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.editUser\",{url:\"/dashboard/admin/users/edit/:id\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/edit.html\",controller:\"editCtrl\",controllerAs:\"edit\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.manageCourses\",{url:\"/dashboard/admin/manage/courses\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/manageCourses.html\",controller:\"managementProduct\",controllerAs:\"manageProduct\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.editProduct\",{url:\"/dashboard/admin/edit-course/:id\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/editCourse.html\",controller:\"editProductCtrl\",controllerAs:\"editProduct\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.newCourse\",{url:\"/dashboard/admin/new-course\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/newCourse.html\",controller:\"newCourseCtrl\",controllerAs:\"newCourse\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.newBlog\",{url:\"/dashboard/admin/blog/new-article\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/newArticleBlog.html\",controller:\"newBlogCtrl\",controllerAs:\"newBlog\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.allArticles\",{url:\"/dashboard/admin/blog/articles\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/allBlogArticles.html\",controller:\"allArticlesCtrl\",controllerAs:\"allArticles\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}).state(\"dashboard.editArticle\",{url:\"/dashboard/admin/edit-article/:id\",views:{\"dashboard@dashboard\":{templateUrl:\"app/views/pages/management/articleDetails.html\",controller:\"editArticleCtrl\",controllerAs:\"editArticle\"}},authenticated:!0,adminAuthenticated:!0,permission:\"AuthAdmin\"}),n.otherwise(\"/\"),t.html5Mode({enabled:!0,requireBase:!1})}]).run([\"$rootScope\",\"Auth\",\"$state\",\"User\",\"AuthDashboard\",\"$timeout\",function(e,t,n,o,a,r){e.$on(\"$stateChangeStart\",function(e,s,i){void 0!==s.$$state&&(1!=s.authenticated||s.adminAuthenticated?!0===s.adminAuthenticated&&!0===s.authenticated?!a.dashboardLoggedIn()&&t.isLoggedIn()||!a.dashboardLoggedIn()&&!t.isLoggedIn()||a.dashboardLoggedIn()&&!t.isLoggedIn()?(e.preventDefault(),r(function(){n.go(\"404\")})):s.permission?o.getAdminPermission().then(function(t){s.permission!==t.data.permission&&(e.preventDefault(),r(function(){n.go(\"404\")}))}):(0==s.adminAuthenticated&&1==s.authenticated||0==s.adminAuthenticated&&0==s.authenticated||1==s.adminAuthenticated&&0==s.authenticated)&&a.dashboardLoggedIn()&&(e.preventDefault(),r(function(){n.go(\"404\")})):!1===s.authenticated&&t.isLoggedIn()&&(e.preventDefault(),n.go(\"parent.profile\")):t.isLoggedIn()?\"admin\"!==s.permission&&\"AuthAdmin\"!==s.permission||o.getPermission().then(function(t){s.permission!==t.data.permission&&e.preventDefault()}):(e.preventDefault(),r(function(){n.go(\"parent.home\")})))})}]),angular.module(\"authServices\",[]).factory(\"Auth\",[\"$http\",\"AuthToken\",function(e,t){var n={login:function(n){return e.post(\"/api/authenticate\",n).then(function(e){return t.setToken(e.data.token),e})},isLoggedIn:function(){return!!t.getToken()},getUser:function(){if(t.getToken())return e.post(\"/api/me\");$q.reject({message:\"User has no token\"})},logout:function(){t.setToken()}};return n}]).factory(\"AuthToken\",[\"$window\",function(e){var t={setToken:function(t){t?e.localStorage.setItem(\"token\",t):e.localStorage.removeItem(\"token\")},getToken:function(){return e.localStorage.getItem(\"token\")}};return t}]).factory(\"AuthInterceptors\",[\"AuthToken\",function(e){var t={request:function(t){var n=e.getToken();return n&&(t.headers[\"x-access-token\"]=n),t}};return t}]),angular.module(\"userServices\",[]).factory(\"User\",[\"$http\",function(e){var t={create:function(t){return e.post(\"/api/users\",t)},checkUsername:function(t){return e.post(\"/api/checkusername\",t)},checkEmail:function(t){return e.post(\"/api/checkemail\",t)},activateAccount:function(t){return e.put(\"/api/activate/\"+t)},checkCredentials:function(t){return e.post(\"/api/resend\",t)},resendLink:function(t){return e.put(\"/api/resend\",t)},sendUsername:function(t){return e.get(\"/api/resetusername/\"+t)},sendPassword:function(t){return e.put(\"/api/resetpassword\",t)},resetUser:function(t){return e.get(\"/api/resetpassword/\"+t)},savePassword:function(t){return e.put(\"/api/savepassword\",t)},renewSession:function(t){return e.get(\"/api/renewToken/username\",t)},getPermission:function(){return e.get(\"/api/permission/\")},getAboutUs:function(){return e.get(\"/api/aboutme/\")},getProducts:function(){return e.get(\"/api/courses/\")},getMyCourses:function(t){return e.get(\"/api/myCourses\",t)},getMyOrdersCourse:function(t){return e.get(\"/api/orders/myOrders\",t)},videoDetail:function(t,n){return e.get(\"/api/myCourses/\"+t+\"/\"+n)},blogArticles:function(t,n){return e.get(\"/api/blog/articles/\"+t+\"/\"+n)},singleArticle:function(t,n){return e.get(\"/api/blog/article/\"+t+\"/\"+n)},singleArticleComment:function(t){return e.post(\"/api/blog/article/comment\",t)},singleArticleReply:function(t){return e.post(\"/api/blog/article/comment/reply\",t)},readMoreCourse:function(t){return e.get(\"/api/courses/details/\"+t)},sendMessage:function(t){return e.post(\"/api/contact\",t)},postComment:function(t){return e.post(\"/api/comment\",t)},replyUserComment:function(t){return e.post(\"/api/comment/reply\",t)},addToCart:function(t){return e.get(\"/api/addToCart/\"+t)},removeFromCart:function(t){return e.get(\"/api/removeFromCart/\"+t)},getSession:function(){return e.get(\"/api/cart/\")},order:function(t){return e.post(\"/api/orders\",t)},companyOrder:function(t){return e.post(\"/api/CompanyOrder\",t)},updateOrder:function(t){return e.put(\"/api/orders/update\",t)},checkOrderSession:function(){return e.get(\"/api/payments/\")},notification:function(t){return e.post(\"/api/notify/\"+t)},orderByPayu:function(){return e.get(\"/api/orderStatus/\")},sendOrders:function(t){return e.post(\"/api/sendOrders\",t)},editMyProfile:function(){return e.get(\"/api/profile/editAccount/\")},saveChangesAccount:function(t){return e.put(\"/api/profile/editAccount/editProfile\",t)},checkChangedUsername:function(t){return e.post(\"/api/profile/checkusername\",t)},checkChangedEmail:function(t){return e.post(\"/api/profile/checkemail\",t)},checkCurrPass:function(t){return e.post(\"/api/profile/checkpassword\",t)},comparePasswords:function(t){return e.post(\"/api/profile/comparepassword\",t)},saveChangePassword:function(t){return e.put(\"/api/profile/savenewpassword\",t)},upload:function(t){var n=new FormData;if(void 0!=t||null!=t)if(t.length)for(var o=0;o<t.length;o++)n.append(\"myfile\",t[o]);else t.newBlog?n.append(\"myfile\",t.newBlog):t.editBlogArticle&&n.append(\"myfile\",t.editBlogArticle);return e.post(\"/api/dashboard/admin/upload/\",n,{transformRequest:angular.identity,headers:{\"Content-Type\":void 0}})},editAdminProfile:function(){return e.get(\"/api/dashboard/admin/profile/edit\")},checkAdminUsername:function(t){return e.post(\"/api/dashboard/admin/profile/checkusername\",t)},checkAdminEmail:function(t){return e.post(\"/api/dashboard/admin/profile/checkemail\",t)},saveChangesAdminAccount:function(t){return e.put(\"/api/dashboard/admin/profile/save\",t)},checkAdminPassword:function(t){return e.post(\"/api/dashboard/admin/profile/checkpassword\",t)},compareAdminPasswords:function(t){return e.post(\"/api/dashboard/admin/profile/comparepassword\",t)},saveChangeAdminPassword:function(t){return e.put(\"/api/dashboard/admin/profile/savenewpassword\",t)},getUsers:function(){return e.get(\"/api/dashboard/admin/management/\")},getUser:function(t){return e.get(\"/api/dashboard/admin/users/edit/\"+t)},editUser:function(t){return e.put(\"/api/dashboard/admin/users/edit\",t)},saveAdminPassword:function(t){return e.post(\"/api/dashboard/admin\",t)},activateAdminAccount:function(t){return e.put(\"/api/dashboard/admin/activate/\"+t)},renewAdminSession:function(t){return e.get(\"/api/admin/renewToken/username\",t)},getAdminPermission:function(){return e.get(\"/api/admin/permission/\")},checkAdminCredentials:function(t){return e.post(\"/api/dashboard/admin/resend\",t)},resendAdminLink:function(t){return e.put(\"/api/dashboard/admin/resend\",t)},postAdminComment:function(t){return e.post(\"/api/dashboard/admin/comment\",t)},articleAdminComment:function(t){return e.post(\"/api/dashboard/admin/blog/article/comment\",t)},articleAdminReply:function(t){return e.post(\"/api/dashboard/admin/blog/article/comment/reply\",t)},articleRemoveReply:function(t){return e.put(\"/api/dashboard/admin/blog/article/comment/reply/delete\",t)},articleRemoveComment:function(t){return e.put(\"/api/dashboard/admin/blog/article/comment/delete\",t)},articleVoteComment:function(t){return e.put(\"/api/dashboard/admin/blog/article/comment/vote\",t)},articleVoteReply:function(t){return e.put(\"/api/dashboard/admin/blog/article/comment/reply/vote\",t)},replyComment:function(t){return e.post(\"/api/dashboard/admin/comment/reply\",t)},deleteUser:function(t){return e.delete(\"/api/dashboard/admin/users/\"+t)},deleteDescription:function(t){return e.put(\"/api/dashboard/admin/editProduct/description/remove\",t)},deleteVideoCourse:function(t){return e.delete(\"/api/dashboard/admin/course/delete/\"+t)},deleteArticle:function(t){return e.delete(\"/api/dashboard/admin/blog/articles/delete/\"+t)},removeComment:function(t){return e.put(\"/api/dashboard/admin/comment/remove\",t)},removeReply:function(t){return e.put(\"/api/dashboard/admin/comment/reply/remove\",t)},editProduct:function(t){return e.put(\"/api/dashboard/admin/editProduct\",t)},getProduct:function(t){return e.get(\"/api/dashboard/admin/editProduct/\"+t)},editArticle:function(t){return e.get(\"/api/dashboard/admin/blog/articles/\"+t)},saveChangesArticle:function(t){return e.put(\"/api/dashboard/admin/blog/articles/edit\",t)},getArticles:function(t){return e.get(\"/api/dashboard/admin/blog/articles/\")},newBlogArticle:function(t){return e.post(\"/api/dashboard/admin/blog/article\",t)},createNewCourse:function(t){return e.post(\"/api/dashboard/admin/courses\",t)},editAboutUsPage:function(t){return e.put(\"/api/dashboard/admin/aboutme/edit\",t)},getAboutUsPage:function(t){return e.get(\"/api/dashboard/admin/aboutme/edit\",t)}};return t}]).factory(\"socket\",function(){return{on:function(e,t){socket.on(e,t)},emit:function(e,t){socket.emit(e,t)}}}),angular.module(\"dashboardAuthServices\",[]).factory(\"AuthDashboard\",[\"$http\",\"AuthAdminToken\",function(e,t){var n={loginAdmin:function(n){return e.post(\"/api/dashboard/admin/authenticate\",n).then(function(e){return t.setToken(e.data.token),e})},dashboardLoggedIn:function(){return!!t.getToken()},getAdmin:function(){if(t.getToken())return e.post(\"/api/admin/me\");$q.reject({message:\"Admin has no token\"})},adminLogout:function(){t.setToken()}};return n}]).factory(\"AuthAdminToken\",[\"$window\",function(e){var t={setToken:function(t){t?e.localStorage.setItem(\"AdminToken\",t):e.localStorage.removeItem(\"AdminToken\")},getToken:function(){return e.localStorage.getItem(\"AdminToken\")}};return t}]).factory(\"AdminInterceptors\",[\"AuthAdminToken\",function(e){var t={request:function(t){var n=e.getToken();return n&&(t.headers.Authorization=\"Bearer \"+n),t}};return t}]),angular.module(\"mainController\",[\"authServices\",\"userServices\"]).controller(\"mainCtrl\",[\"$timeout\",\"$state\",\"$stateParams\",\"$location\",\"Auth\",\"$rootScope\",\"$window\",\"$interval\",\"User\",\"AuthToken\",\"$scope\",\"$anchorScroll\",function(e,t,n,o,a,r,s,i,c,l,d,u){var g=this,m=io.connect();function p(n){g.choiceMade=!1,g.modalHeader=void 0,g.modalBody=void 0,g.hideButton=!1,1===n?(g.modalHeader=\"Timeout Warning\",g.modalBody=\"Your session will expired in 30 minutes. Would you like to renew your session?\",$(\"#myModal\").modal({backdrop:\"static\"}),e(function(){g.choiceMade||g.endSession()},1e4)):2===n&&(g.hideButton=!0,g.modalHeader=\"Logging Out\",$(\"#myModal\").modal({backdrop:\"static\"}),e(function(){a.logout(),t.go(\"logout\"),g.authorized=!1,h(),u()},2e3))}g.loadme=!1,g.emptyCart=!1,g.video_limit=4,g.blog_limit=4,g.commentCarousel=[],c.getProducts().then(function(e){g.products=e.data.products,g.loading=!1,g.products.map(function(e){return e.comments.map(function(e,t){return g.commentCarousel.push(e)})}),g.sortedComment=g.commentCarousel.sort(function(){return.5-Math.random()}).slice(0,6),g.sortedProducts=g.products.sort(function(){return.5-Math.random()}).slice(0,1)}),d.$on(\"$viewContentLoaded\",function(){g.currentId=t.params.id}),d.isActive=function(e){return e===t.href(t.current.name,t.params)},r.$on(\"$stateChangeStart\",function(){function t(){c.getSession().then(function(t){if(g.showInnerCart=t.data.success,t.data.success){if(void 0==t.data.session)return!1;d.totalQty=t.data.session.totalQty,g.sessionProduct=t.data.session,g.summaryPrice=t.data.session.totalPrice,g.showBadge=!0,d.linkEnabled=!0}else g.showCartMessage=function(){g.emptyCart=\"You have not added any course to the cart\",e(function(){g.emptyCart=!1},2e3)},d.linkEnabled=!1,g.showBadge=!1})}d.linkEnabled=!1,g.emptyCart=!1,t(),g.addCart=function(t){c.addToCart(n.id).then(function(t){t.data.success?(d.totalQty=t.data.cart.totalQty,g.showBadge=!0,d.linkEnabled=!0,g.emptyCart=!1):(g.logInCourse=\"You must be logged in to buy a course\",e(function(){g.logInCourse=!1},2e3))})},g.reduceCart=function(e){c.removeFromCart(e).then(function(e){e.data.success?t():g.errorMsg=e.data.message})}}),g.checkSession=function(){if(a.isLoggedIn()){g.checkingSession=!0;var e=i(function(){var t=s.localStorage.getItem(\"token\");if(null===t)i.cancel(e);else{self.parseJwt=function(e){var t=e.split(\".\")[1].replace(\"-\",\"+\").replace(\"_\",\"/\");return JSON.parse(s.atob(t))};var n=self.parseJwt(t),o=Math.floor(Date.now()/1e3);n.exp-o<=1800&&(p(1),i.cancel(e))}},3e3)}},g.checkSession(),g.renewSession=function(){g.choiceMade=!0,c.renewSession().then(function(e){e.data.success?(l.setToken(e.data.token),g.checkSession()):g.modalBody=e.data.message}),h()},g.endSession=function(){g.choiceMade=!0,h(),e(function(){p(2)},1e3)};var h=function(){$(\"#myModal\").modal(\"hide\"),$(\"#LoginModal\").modal(\"hide\")};r.$on(\"$stateChangeStart\",function(){g.checkingSession||g.checkSession(),a.isLoggedIn()?(g.isLoggedIn=!0,a.getUser().then(function(e){void 0===e.data.username?(a.logout(),s.localStorage.removeItem(\"token\"),t.go(\"parent.home\")):(g.username=e.data.username,g.useremail=e.data.email,g.isLoggedIn=!0,c.getPermission().then(function(e){\"admin\"===e.data.permission?(g.authorized=!0,g.loadme=!0):g.loadme=!0}))})):(g.username=\"\",g.isLoggedIn=!1,g.loadme=!0)}),g.doLogin=function(n,o){g.errorMsg=!1,g.expired=!1,g.disabled=!0,o?a.login(g.loginData).then(function(n){n.data.success?(g.successMsg=n.data.message+\"...Redirecting\",e(function(){t.go(\"parent.Home\"),g.loginData=\"\",g.successMsg=!1,h(),u(),g.disabled=!1,g.checkSession()},2e3)):n.data.expired?(g.expired=!0,g.errorMsg=n.data.message):(g.errorMsg=n.data.message,g.disabled=!1,e(function(){g.errorMsg=!1},2e3))}):(g.errorMsg=\"Fill the form correctly\",g.disabled=!1,e(function(){g.errorMsg=!1},2e3))},g.logout=function(){p(2)},g.hideLoginModal=function(){h()},c.blogArticles().then(function(e){g.blog=e.data.allArticles,g.loading=!1}),g.scroll=function(){e(function(){u()},1)},m.on(\"product\",function(e){g.products.push(e.product)})}]),angular.module(\"blogController\",[\"userServices\"]).controller(\"blogCtrl\",[\"$scope\",\"User\",\"$timeout\",function(e,t,n){var o=this;function a(){o.sortDown=!1,o.sortUp=!1,o.isLoading=!0,o.isFinish=!1,t.blogArticles(o.currentPage).then(function(e){o.loadingPage=!1,o.totalPage=e.data.totalPage,o.isLoading=!1,o.isFinish=!1,o.headerArticles=e.data.headerArticles,e.data.articles.forEach(function(e){o.infiniteScroll.push(e)}),o.currentPage>=o.totalPage&&(o.isFinish=!0),n(function(){var e=$(\".carousel .item\"),t=$(window).height()/2.4;e.removeClass(\"active\"),e.eq(0).addClass(\"active\"),e.height(t),e.addClass(\"full-screen\"),$(\".carousel img\").each(function(){var e=$(this).attr(\"src\");$(this).parent().css({\"background-image\":\"url(\"+e+\")\"}),$(this).remove()}),$(window).on(\"resize\",function(){t=$(window).height()/2.4,e.height(t)}),$(\".carousel\").carousel({interval:6e3,pause:\"false\"})},0)})}function r(e,n){o.sortDown=!0,o.sortUp=!1,o.isLoading=!0,o.isFinish=!1,t.blogArticles(e,n).then(function(e){o.isLoading=!1,e.data.articles.forEach(function(e){o.infiniteScroll.push(e)}),o.totalPage=e.data.totalPage,o.currentPage>=o.totalPage&&(o.isFinish=!0)})}function s(e){o.sortUp=!0,o.sortDown=!1,o.isLoading=!0,o.isFinish=!1,t.blogArticles(o.currentPage).then(function(e){o.isLoading=!1,e.data.articles.forEach(function(e){o.infiniteScroll.push(e)}),o.totalPage=e.data.totalPage,o.currentPage>=o.totalPage&&(o.isFinish=!0)})}o.currentPage=1,o.infiniteScroll=[],o.totalPage=0,o.isFinish=!1,o.sortDown=!1,o.sortUp=!1,o.loadingPage=!0,a(o.currentPage),o.allArticles=function(){o.sortDown=!1,o.sortUp=!0,o.infiniteScroll=[],o.currentPage=1,$(\".nav-item .nav-link span\").removeClass().addClass(\"glyphicon glyphicon-arrow-up up\"),s(o.currentPage)},o.sortByDate=function(e){o.infiniteScroll=[],o.currentPage=1;var t=e.currentTarget.firstElementChild.classList[2];\"up\"===t?(e.currentTarget.lastChild.classList.remove(\"glyphicon-arrow-up\",\"up\"),e.currentTarget.lastChild.classList.add(\"glyphicon-arrow-down\",\"down\"),r(o.currentPage,\"sortDown\")):\"down\"===t&&(e.currentTarget.lastChild.classList.remove(\"glyphicon-arrow-down\",\"down\"),e.currentTarget.lastChild.classList.add(\"glyphicon-arrow-up\",\"up\"),s(o.currentPage))},o.search=function(){$(\".sort_blog_news .search\").toggleClass(\"close\"),$(\".sort_blog_news .input\").toggleClass(\"square\"),$(\".sort_blog_news .search\").hasClass(\"close\")?($(\".sort_blog_news input\").focus(),$(\".sort_blog_news input\").attr(\"placeholder\",\"Enter the tag you are interested in\")):$(\".sort_blog_news input\").blur()},o.getFilter=function(e){t.blogArticles().then(function(t){e.length?(o.isFinish=!0,o.currentPage=t.data.totalPage,o.infiniteScroll=t.data.allArticles.filter(function(t){return t.tags.some(function(t){return t===e})})):(o.isFinish=!1,o.sortDown=!1,o.sortUp=!0,o.infiniteScroll=[],o.currentPage=1,s(o.currentPage))})},o.nextPage=function(){o.currentPage<o.totalPage&&(o.currentPage+=1,1==o.sortDown?r(o.currentPage,\"sortDown\"):1==o.sortUp?s(o.currentPage):a(o.currentPage))}}]).controller(\"singleArtCtrl\",[\"$scope\",\"User\",\"$timeout\",\"$stateParams\",\"$window\",\"$anchorScroll\",function(e,t,n,o,a,r){var s=io.connect(),i=this;function c(){i.isLoading=!0,t.singleArticle(o.id,i.currentPage).then(function(e){i.isLoading=!1,e.data.rest.forEach(function(e){i.rest.push(e)}),i.totalPage=e.data.totalPage,i.currentPage>=i.totalPage&&(i.isFinish=!0,i.finishMsg=\"For now, it's all articles on the blog:)\")})}i.loadingComment=!1,i.loadingPage=!0,i.currentPage=1,i.rest=[],i.isFinish=!1,t.singleArticle(o.id).then(function(e){i.loadingPage=!1,i.articleContent=e.data.article.body,i.articleImage=e.data.article.imagePath,i.title=e.data.article.title,i.author=e.data.article.author,i.date=e.data.article.date,i.tags=e.data.article.tags,i.comments=e.data.article.comments,i._id=e.data.article._id,s.emit(\"connect blog\",i._id)}),c(i.currentPage),i.sendComment=function(e,o){o?(i.loadingComment=!0,i.comment={},i.comment.body=e,i.comment.valid=o,i.comment.id=i._id,t.singleArticleComment(i.comment).then(function(e){e.data.success?(i.loadingComment=!1,i.commentMsg=e.data.message,n(function(){i.userComment=\"\",i.AddCommentForm.$setPristine(),i.commentMsg=!1},2e3),s.emit(\"new blogComment\",e.data.id,e.data.comment)):(i.errCommentMsg=e.data.message,n(function(){i.errCommentMsg=!1,i.loadingComment=!1},2e3))})):(i.errCommentMsg=\"Add comment content\",n(function(){i.errCommentMsg=!1,i.AddCommentForm.$setPristine()},2e3))},i.sendReply=function(e,o,a){i.addedReply=e._id,a.$valid?(i.disableReply=!0,i.loadingReply=!0,i.reply={},i.reply.id=i._id,i.reply.valid=a.$valid,i.reply.commentId=e._id,i.reply.body=o,t.singleArticleReply(i.reply).then(function(t){t.data.success?(i.disableReply=!1,i.loadingReply=!1,i.replyMsg=t.data.message,n(function(){a.$setPristine(),i.commentReply[e.number]=\"\",i.replyMsg=!1},2e3),s.emit(\"blog reply\",i._id,t.data.reply,e.number)):(i.disableReply=!1,i.errReply=t.data.message,n(function(){i.errReply=!1,i.loadingReply=!1},2e3))})):(i.errReply=\"Add reply content\",n(function(){i.errReply=!1},2e3))},i.nextPage=function(){i.currentPage<i.totalPage&&(i.currentPage+=1,c(i.currentPage))},$(document).on(\"keydown\",\"textarea[data-autoresize]\",function(){var e=this;setTimeout(function(){e.style.cssText=\"height:\"+e.scrollHeight+\"px\"},0)}),s.on(\"newBlogComment\",function(e){i.comments.push(e.comment)}),s.on(\"blogReply\",function(e){i.comments[e.commentNumber-1].reply.push(e.reply)}),s.on(\"articleAdminComment\",function(e){i.comments.push(e.articleComment)}),s.on(\"articleAdminReply\",function(e){i.comments[e.commentNumber-1].reply.push(e.articleReply)}),s.on(\"updateArticle\",function(e){i.articleContent=e.data.body,i.articleImage=e.data.imagePath,i.title=e.data.title,i.author=e.data.author,i.date=e.data.date,i.tags=e.data.tags}),s.on(\"articleRemoveComment\",function(e){i.comments=e.comments}),s.on(\"articleRemoveReply\",function(e){i.comments[e.number-1].reply=e.data}),e.$on(\"$stateChangeStart\",function(e){s.disconnect(!0)})}]).directive(\"cutImage\",[\"$window\",function(e){return{restict:\"A\",link:function(t,n,o){var a=n,r=e.innerHeight/2;a.height(r)}}}]).directive(\"activeClass\",function(){return{restrict:\"A\",link:function(e,t,n){t.bind(\"click\",function(){$(\".sort_blog_news .nav-link\").removeClass(\"active\"),t[0].classList.add(\"active\")})}}}).directive(\"infinityscroll\",[\"$window\",function(e){return{restrict:\"A\",link:function(e,t,n){$(window).bind(\"scroll\",function(){$(window).scrollTop()>=$(\"#blog\").height()-$(\"#footer\").height()?e.$apply(n.infinityscroll):$(window).scrollTop()>=$(\".single-article\").height()-$(\"#footer\").height()&&e.$apply(n.infinityscroll)})}}}]),angular.module(\"dashboardController\",[\"userServices\",\"dashboardAuthServices\",\"ui.bootstrap\"]).controller(\"dashboardCtrl\",[\"$rootScope\",\"$scope\",\"User\",\"AuthAdminToken\",\"AuthDashboard\",\"$interval\",\"$window\",\"$anchorScroll\",\"$timeout\",\"$state\",function(e,t,n,o,a,r,s,i,c,l){var d=this;d.correctAdmin=!0,d.loadingPage=!1;var u=function(){$(\"#adminLoggingOut\").modal(\"hide\"),$(\"#adminLogoutModal\").modal(\"hide\")};function g(e){d.choiceMade=!1,d.modalHeader=void 0,d.modalBody=void 0,d.hideButton=!1,1===e?(d.modalHeader=\"The session is coming to end!\",d.modalBody=\"The session will end in 30 minutes. Do you want to renew session?\",$(\"#adminLogoutModal\").modal({backdrop:\"static\"}),c(function(){d.choiceMade||d.endAdminSession()},15e3)):2===e&&(d.hideButton=!0,d.modalHeader=\"Logging out!\",$(\"#adminLoggingOut\").modal(\"show\"),c(function(){u(),$(\".modal-backdrop\").remove(),a.adminLogout(),l.go(\"adminLogin\"),d.adminAuthorized=!1,i()},2e3))}d.ActiveNav=function(e){if(s.innerWidth>=1200)return e===l.href(l.current.name,l.params)},s.innerWidth>=1200?$(\".rad-sidebar\").removeClass(\"rad_nav_min\"):$(\".rad-sidebar\").addClass(\"rad_nav_min\"),$(document).on(\"click\",\"a.toggle-collapsed\",function(){s.innerWidth>=850?($(\".al-main\").css(\"margin-left\",\"155px\"),$(\".rad-sidebar\").removeClass(\"rad_nav_min\")):$(\".rad-sidebar\").removeClass(\"rad_nav_min\")}),d.checkAdminSession=function(){if(a.dashboardLoggedIn()){d.checkingAdminSession=!0,\"adminRegister\"!==l.$current.name&&\"adminLogin\"!==l.$current.name||(d.loadingPage=!0,l.go(\"dashboard.panel\"));var e=r(function(){var t=s.localStorage.getItem(\"AdminToken\");if(null===t)r.cancel(e);else{self.parseJwt=function(e){var t=e.split(\".\")[1].replace(\"-\",\"+\").replace(\"_\",\"/\");return JSON.parse(s.atob(t))};var n=self.parseJwt(t),o=Math.floor(Date.now()/1e3);n.exp-o<=1800&&(g(1),r.cancel(e))}},3e3)}},d.checkAdminSession(),d.renewAdminSession=function(){d.choiceMade=!0,n.renewAdminSession().then(function(e){e.data.success?(o.setToken(e.data.token),d.checkAdminSession()):d.modalBody=e.data.message}),u()},d.endAdminSession=function(){d.choiceMade=!0,u(),c(function(){g(2)},1e3)},t.$on(\"$stateChangeStart\",function(){d.checkingAdminSession||d.checkAdminSession(),a.dashboardLoggedIn()?(d.dashboardLoggedIn=!0,a.getAdmin().then(function(e){!1===e.data.adminAuthenticated&&(s.localStorage.removeItem(\"AdminToken\"),l.go(\"parent.home\")),n.getAdminPermission().then(function(e){\"AuthAdmin\"===e.data.permission?(d.adminAuthorized=!0,d.loadme=!0):d.loadme=!0})})):(d.dashboardLoggedIn=!1,d.loadme=!0)}),d.addPassword=function(e,o){o?(d.correctAdmin=!1,d.saveAdminPassword=!0,n.saveAdminPassword(e).then(function(e){e.data.success?(d.successMsg=e.data.message,d.disabled=!0,d.saveAdminPassword=!1,c(function(){d.disabled=!1,t.adminAccountReg.$setPristine(),d.adminData={secretAdmin:\"\",confirmSecretAdmin:\"\"}},1e3)):(d.saveAdminPassword=!1,d.errorMsg=e.data.message,c(function(){d.errorMsg=!1},5e3))})):(d.errorMsg=\"Password no provided\",c(function(){d.errorMsg=!1},2e3))},d.loginAdmin=function(e,n){n?(d.loading=!0,d.errorMsg=!1,d.expired=!1,a.loginAdmin(e).then(function(e){e.data.success?(d.loading=!1,d.successMsg=e.data.message+\"...Redirecting\",c(function(){t.formSignin.$setPristine(),d.loginAdminData={secret:\"\",admin:\"\"},d.successMsg=!1,i(),d.checkAdminSession(),l.go(\"dashboard.panel\")},1e3)):e.data.expired?(d.expired=!0,d.loading=!1,d.errorMsg=e.data.message,c(function(){d.errorMsg=!1},2500)):(d.loading=!1,d.errorMsg=e.data.message,c(function(){d.errorMsg=!1},2500))})):(d.loading=!1,d.errorMsg=\"Fill the form correctly\",c(function(){d.errorMsg=!1},2500))},d.adminLogout=function(){g(2)}}]).controller(\"activateAdminCtrl\",[\"$stateParams\",\"User\",function(e,t){var n=this;t.activateAdminAccount(e.token).then(function(e){n.errorMsg=!1,n.successMsg=!1,e.data.success?n.successMsg=e.data.message+\"...Redirecting\":n.errorMsg=e.data.message+\"...Redirecting\"})}]).controller(\"resendAdminCtrl\",[\"User\",function(e){var t=this;t.checkAdminCredentials=function(n){t.disabled=!0,t.errorMsg=!1,e.checkAdminCredentials(t.loginAdminData).then(function(n){n.data.success?e.resendAdminLink(t.loginAdminData).then(function(e){e.data.success?t.successMsg=e.data.message:t.errorMsg=e.data.message}):(t.disabled=!1,t.errorMsg=n.data.message)})}}]).controller(\"manageUserCtrl\",[\"User\",\"$window\",\"$timeout\",function(e,t,n){var o=this;o.loadingPage=!0,o.errorMsg=!1,o.selectNumber=\"15\",o.currentPage=1,o.itemsPerPage=o.selectNumber,t.innerWidth<=1199?($(\".rad-sidebar\").addClass(\"rad_nav_min\"),$(\".al-main\").css(\"margin-left\",\"5px\")):($(\".rad-sidebar\").removeClass(\"rad_nav_min\"),$(\".al-main\").css(\"margin-left\",\"155px\")),e.getUsers().then(function(e){\"AuthAdmin\"===e.data.permission&&e.data.success?(o.users=e.data.users,o.loadingPage=!1):(o.errorMsg=e.data.message,o.loadingPage=!1)}),o.removeUserAccount=function(t){e.deleteUser(t).then(function(e){e.data.success?(o.deleteMsg=e.data.message,n(function(){o.deleteMsg=!1,getUsers()},3e3)):o.deleteErrMsg=e.data.message})},o.showDeletedUser=function(e){o.deleteUser=e,$(\"#removeUser\").modal(\"show\")},o.setItemsPerPage=function(e){o.itemsPerPage=e,o.currentPage=1},o.sortByInput=function(t,n){e.getAdminPermission().then(function(a){\"AuthAdmin\"===a.data.permission?e.getUsers().then(function(e){e.data.success?n.length?o.users=e.data.users.filter(function(e){return-1!==e[t].toString().toUpperCase().indexOf(n.toUpperCase())}):o.users=e.data.users:o.errorMsg=e.data.message}):o.errorMsg=\"You don't have the right permission\"})},o.sortBy=function(t){o.reverse=o.propertyName===t&&!o.reverse,o.propertyName=t,e.getAdminPermission().then(function(n){\"AuthAdmin\"===n.data.permission?e.getUsers().then(function(e){e.data.success?o.users=e.data.users.sort(function(e,n){return o.reverse?e[t].toString().toUpperCase()<n[t].toString().toUpperCase():e[t].toString().toUpperCase()>n[t].toString().toUpperCase()}):o.errorMsg=e.data.message}):o.errorMsg=\"You don't have the right permission\"})}}]).controller(\"editCtrl\",[\"$scope\",\"$stateParams\",\"User\",\"$timeout\",\"$window\",function(e,t,n,o,a){var r=this;e.nameTab=\"active\",r.phase1=!0,r.loadingPage=!0,a.innerWidth<=1199?($(\".rad-sidebar\").addClass(\"rad_nav_min\"),$(\".al-main\").css(\"margin-left\",\"5px\")):($(\".rad-sidebar\").removeClass(\"rad_nav_min\"),$(\".al-main\").css(\"margin-left\",\"155px\")),n.getUser(t.id).then(function(t){\"AuthAdmin\"===t.data.permission&&t.data.success?(e.newName=t.data.user.name,e.newEmail=t.data.user.email,e.newUsername=t.data.user.username,e.newPermission=t.data.user.permission,r.currentUser=t.data.user._id,r.loadingPage=!1):r.errorMsg=t.data.message}),r.newPhase=function(){e.nameTab=\"active\",e.usernameTab=\"default\",e.emailTab=\"default\",e.permissionsTab=\"default\",r.phase1=!0,r.phase2=!1,r.phase3=!1,r.phase4=!1,r.errorMsg=!1},r.emailPhase=function(){e.nameTab=\"default\",e.usernameTab=\"default\",e.emailTab=\"active\",e.permissionsTab=\"default\",r.phase1=!1,r.phase2=!1,r.phase3=!0,r.phase4=!1,r.errorMsg=!1},r.usernamePhase=function(){e.nameTab=\"default\",e.usernameTab=\"active\",e.emailTab=\"default\",e.permissionsTab=\"default\",r.phase1=!1,r.phase2=!0,r.phase3=!1,r.phase4=!1,r.errorMsg=!1},r.permissionsPhase=function(){e.nameTab=\"default\",e.usernameTab=\"default\",e.emailTab=\"default\",e.permissionsTab=\"active\",r.phase1=!1,r.phase2=!1,r.phase3=!1,r.phase4=!0,r.disableUser=!1,r.disableModerator=!1,r.disableAdmin=!1,r.errorMsg=!1,\"user\"===e.newPermission?r.disableUser=!0:\"admin\"===e.newPermission&&(r.disableAdmin=!0)},r.updateName=function(t,a){if(r.errorMsg=!1,r.disabled=!0,a){var s={};s._id=r.currentUser,s.name=e.newName,r.loadingChange=!0,n.editUser(s).then(function(e){\"AuthAdmin\"===e.data.permission&&e.data.success?(r.successMsg=e.data.message,r.loadingChange=!1,o(function(){r.nameForm.name.$setPristine(),r.nameForm.name.$setUntouched(),r.successMsg=!1,r.disabled=!1},2500)):(r.errorMsg=e.data.message,r.loadingChange=!1)})}else r.loadingChange=!1,r.errorMsg=\"Fill the form correctly\",r.disabled=!1},r.updateEmail=function(t,a){if(r.errorMsg=!1,r.disabled=!0,a){var s={};s._id=r.currentUser,s.email=e.newEmail,r.loadingChange=!0,n.editUser(s).then(function(e){\"AuthAdmin\"===e.data.permission&&e.data.success?(r.successMsg=e.data.message,r.loadingChange=!1,o(function(){r.emailForm.email.$setPristine(),r.emailForm.email.$setUntouched(),r.successMsg=!1,r.disabled=!1},2e3)):(r.errorMsg=e.data.message,r.disabled=!1,r.loadingChange=!1)})}else r.errorMsg=\"Fill the form correctly\",r.disabled=!1,r.loadingChange=!1},r.updateUsername=function(t,a){if(r.errorMsg=!1,r.disabled=!0,a){var s={};s._id=r.currentUser,s.username=e.newUsername,r.loadingChange=!0,n.editUser(s).then(function(e){\"AuthAdmin\"===e.data.permission&&e.data.success?(r.successMsg=e.data.message,r.loadingChange=!1,o(function(){r.usernameForm.username.$setPristine(),r.usernameForm.username.$setUntouched(),r.successMsg=!1,r.disabled=!1},2e3)):(r.errorMsg=e.data.message,r.disabled=!1,r.loadingChange=!1)})}else r.errorMsg=\"Fill the form correctly\",r.disabled=!1,r.loadingChange=!1},r.updatePermissions=function(t){var a={};a._id=r.currentUser,a.permission=t,r.errorMsg=!1,r.disableUser=!0,r.disableModerator=!0,r.disableAdmin=!0,r.loadingChange=!0,n.editUser(a).then(function(n){\"AuthAdmin\"===n.data.permission&&n.data.success?(r.successMsg=n.data.message,r.loadingChange=!1,o(function(){r.successMsg=!1,e.newPermission=t,\"user\"===t?(r.disableUser=!0,r.disableAuthAdmin=!1,r.disableAdmin=!1):\"admin\"===t&&(r.disableUser=!1,r.disableAuthAdmin=!1,r.disableAdmin=!0)},2e3)):(r.loadingChange=!1,r.errorMsg=n.data.message,r.disabled=!1)})}}]).controller(\"editProductCtrl\",[\"$scope\",\"$stateParams\",\"User\",\"$timeout\",\"$state\",function(e,t,n,o,a){var r=this,s=io.connect(),i=[];r.comments=[],r.selectNumber=\"15\",r.currentPage=1,r.itemsPerPage=r.selectNumber,r.imagePreview=!1,r.thumbnail={dataUrl:null},n.getProduct(t.id).then(function(t){t.data.success?(t.data.product.imagePath&&(r.newImage=t.data.product.imagePath,r.imagePreview=!0),t.data.product.author&&(r.authorName=t.data.product.author.name,r.authorEdu=t.data.product.author.education,r.authorDescription=t.data.product.author.description),r.introText=t.data.product.introText,r.newTitle=t.data.product.title,r.newSubtitle=t.data.product.subTitle,r.newLevel=t.data.product.level,r.newDescription=t.data.product.description,r.newOldPrice=t.data.product.oldPrice,r.newNewPrice=t.data.product.newPrice,r.comments=t.data.product.comments,r.editBody=t.data.product.body,r.totalItems=t.data.product.comments.length,\"fa fa-3x fa-battery-quarter text-primary level-higher-easy\"==t.data.product.level?(e.currentLevel=\"Easy\",r.disableEasy=!0,r.disableMedium=!1,r.disableHard=!1):\"fa fa-3x fa-battery-half text-primary level-higher-medium\"==t.data.product.level?(e.currentLevel=\"Medium\",r.disableMedium=!0,r.disableEasy=!1,r.disableHard=!1):\"fa fa-3x fa-battery-full text-primary level-higher-hard\"==t.data.product.level&&(e.currentLevel=\"Advanced\",r.disableEasy=!1,r.disableMedium=!1,r.disableHard=!0),r.currentProduct=t.data.product._id):r.errorMsg=t.data.message}),r.photoChanged=function(e){if(i=[],e.length>0&&e[0].name.match(/\\.(png|jpeg|jpg)$/)){r.uploading=!0,r.imagePreview=!0;var t=e[0];i.push(t);for(var n=0;n<i.length;n++){var a=new FileReader;a.readAsDataURL(i[n]),a.onload=function(e){o(function(){r.thumbnail={},r.thumbnail.dataUrl=e.target.result,r.uploading=!1})}}}else r.thumbnail={}},e.$watch(\"file.newCourse\",function(e){e&&(r.newImage=e.name)}),r.clearImage=function(e){var t=document.querySelector(\"#selectImage\");r.uploading=!1,r.imagePreview=!1,r.thumbnail.dataUrl=\"\",r.newImage=\"\",i=[],angular.element(t).val(null)},r.setItemsPerPage=function(e){r.itemsPerPage=e,r.currentPage=1},r.sortComment=function(e){r.reverse=r.propertyName===e&&!r.reverse,r.propertyName=e},r.backChanges=function(){n.getProduct(t.id).then(function(e){r.newImage=e.data.product.imagePath,r.imagePreview=!0,r.thumbnail.dataUrl=\"\",i=[]})},r.updateImage=function(t){var a={};r.imgErrMsg=!1,r.editImageMsg=!1,r.disabled=!0,a._id=r.currentProduct,a.imagePath=t,a.imagePath?(n.editProduct(a).then(function(e){e.data.success?(r.imgErrMsg=!1,r.disabled=!1,r.editImageMsg=e.data.message,o(function(){r.editImageMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.image,r.currentProduct,\"imagePath\")):(r.editImageMsgErr=e.data.message,o(function(){r.disabled=!1,r.editImageMsgErr=!1},2e3))}),n.upload(i).then(function(t){t.data.success?(r.uploading=!1,e.file={}):(r.uploading=!1,r.errorMsg=t.data.message,e.file={},o(function(){r.errorMsg=!1},2e3))})):(r.imgErrMsg=!0,o(function(){r.disabled=!1},2e3))},r.updateAuthorName=function(e){var t={};t._id=r.currentProduct,t.authorName=r.authorName,r.editAuthorNameMsg=!1,r.disabled=!0,e?n.editProduct(t).then(function(e){e.data.success?(r.disabled=!1,r.editAuthorNameMsg=e.data.message,o(function(){r.editAuthorNameMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.authorName,r.currentProduct,\"authorName\")):(r.editAuthorNameMsgErr=e.data.message,o(function(){r.editAuthorNameMsgErr=!1},2e3))}):(r.editAuthorNameMsg=\"Add the author name\",o(function(){r.editAuthorNameMsg=!1,r.disabled=!1},2e3))},r.updateAuthorEdu=function(e){var t={};t._id=r.currentProduct,t.authorEdu=r.authorEdu,r.editAuthorEduMsg=!1,r.disabled=!0,e?n.editProduct(t).then(function(e){e.data.success?(r.disabled=!1,r.editAuthorEduMsg=e.data.message,o(function(){r.editAuthorEduMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.authorEdu,r.currentProduct,\"authorEducation\")):(r.editAuthorEduMsgErr=e.data.message,o(function(){r.editAuthorEduMsgErr=!1},2e3))}):(r.editAuthorEduMsg=\"Add the auhor education\",o(function(){r.editAuthorEduMsg=!1,r.disabled=!1},2e3))},r.updateAuthorDes=function(){var e={};r.editAuthorDesMsg=!1,r.disabled=!0,e._id=r.currentProduct,e.authorDes=r.authorDescription,n.editProduct(e).then(function(e){e.data.success?(r.disabled=!1,r.editAuthorDesMsg=e.data.message,o(function(){r.editAuthorDesMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.authorDes,r.currentProduct,\"authorDescription\")):(r.editAuthorDesMsgErr=e.data.message,o(function(){r.editAuthorDsMsgErr=!1},2e3))})},r.updateBody=function(){var e={};r.editBodyMsg=!1,r.disabled=!0,e._id=r.currentProduct,e.body=r.editBody,n.editProduct(e).then(function(e){e.data.success?(r.disabled=!1,r.editBodyMsg=e.data.message,o(function(){r.editBodyMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.body,r.currentProduct,\"body\")):(r.editBodyMsgErr=e.data.message,o(function(){r.editBodyMsgErr=!1},2e3))})},r.updateTitle=function(e,t){if(r.titleErrMsg=!1,r.disabled=!0,t){var a={};a._id=r.currentProduct,a.title=r.newTitle,n.editProduct(a).then(function(e){e.data.success&&e.data.title?(r.titleMsg=e.data.message,o(function(){r.titleForm.title.$setPristine(),r.titleForm.title.$setUntouched(),r.titleMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.title,r.currentProduct,\"title\")):(r.titleErrMsg=e.data.message,o(function(){r.titleErrMsg=!1},2e3))})}else r.titleErrMsg=\"Incorrect title input\",o(function(){r.titleErrMsg=!1},2e3),r.disabled=!1},r.updateSubtitle=function(e,t){if(r.subTitleErrMsg=!1,r.disabled=!0,t){var a={};a._id=r.currentProduct,a.subTitle=r.newSubtitle,n.editProduct(a).then(function(e){e.data.success&&e.data.subtitle?(r.subtitleMsg=e.data.message,o(function(){r.subtitleForm.subTitle.$setPristine(),r.subtitleForm.subTitle.$setUntouched(),r.subtitleMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.subtitle,r.currentProduct,\"subTitle\")):(r.subTitleErrMsg=e.data.message,o(function(){r.subTitleErrMsg=!1},2e3))})}else r.subTitleErrMsg=\"Invalid subtitle input\",r.disabled=!1,o(function(){r.subTitleErrMsg=!1},2e3)},r.updateOldPrice=function(e,t){if(r.OldPriceErrMsg=!1,r.disabled=!0,t){var a={};a._id=r.currentProduct,a.oldPrice=r.newOldPrice,n.editProduct(a).then(function(e){e.data.success?(r.oldPriceMsg=e.data.message,o(function(){r.oldPriceForm.$setPristine(),r.oldPriceForm.$setUntouched(),r.oldPriceMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.oldPrice,r.currentProduct,\"oldPrice\")):(r.OldPriceErrMsg=e.data.message,o(function(){r.OldPriceErrMsg=!1,r.disabled=!1},2e3))})}else r.OldPriceErrMsg=\"Invalid old price\",r.disabled=!1,o(function(){r.OldPriceErrMsg=!1,r.disabled=!1},2e3)},r.updateNewPrice=function(e,t){if(r.newPriceErMsg=!1,r.disabled=!0,t){var a={};a._id=r.currentProduct,a.newPrice=r.newNewPrice,n.editProduct(a).then(function(e){e.data.success?(r.newPriceMsg=e.data.message,o(function(){r.newPriceForm.$setPristine(),r.newPriceForm.$setUntouched(),r.newPriceMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.newPrice,r.currentProduct,\"newPrice\")):(r.newPriceErMsg=e.data.message,o(function(){r.newPriceErMsg=!1,r.disabled=!1},2e3))})}else r.newPriceErMsg=\"Invalid new price input\",o(function(){r.newPriceErMsg=!1,r.disabled=!1},2e3)},r.updateDescription=function(e,t){if(r.descriptionErrMsg=!1,r.disabled=!0,t){var a={};a._id=r.currentProduct,a.description=r.newDescription,n.editProduct(a).then(function(e){e.data.success?(r.descriptionMsg=e.data.message,o(function(){r.descriptionForm.$setPristine(),r.descriptionForm.$setUntouched(),r.descriptionMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.description,r.currentProduct,\"description\")):(r.descriptionErrMsg=e.data.message,o(function(){r.descriptionErrMsg=!1},2e3))})}else r.descriptionErrMsg=\"Invalid description input\",r.disabled=!1,o(function(){r.descriptionErrMsg=!1},2e3)},r.addDescription=function(e,t){if(r.AddDesErrMsg=!1,r.disabled=!0,t){var a={};a._id=r.currentProduct,a.addDescription=e,n.editProduct(a).then(function(e){e.data.success&&e.data.description?(r.AddDesMsg=e.data.message,o(function(){r.addForm.$setPristine(),r.addForm.$setUntouched(),r.addNextDescription=\"\",r.AddDesMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.description,r.currentProduct,\"description\")):(r.AddDesErrMsg=e.data.message,o(function(){r.AddDesErrMsg=!1,r.disabled=!1},2e3))})}else r.AddDesErrMsg=\"Invalid new description input\",o(function(){r.AddDesErrMsg=!1,r.disabled=!1},2e3)},r.updateLevel=function(t){var a={};a._id=r.currentProduct,a.level=t,r.errorMsg=!1,r.disableEasy=!1,r.disableMedium=!1,r.disableHard=!1,n.editProduct(a).then(function(n){n.data.success?(r.disableEasy=!0,r.disableMedium=!0,r.disableHard=!0,r.levelMsg=n.data.message,o(function(){r.levelMsg=!1,e.newLevel=t,\"fa fa-3x fa-battery-quarter text-primary level-higher-easy\"==t?(e.currentLevel=\"Easy\",r.disableEasy=!0,r.disableMedium=!1,r.disableHard=!1):\"fa fa-3x fa-battery-half text-primary level-higher-medium\"==t?(e.currentLevel=\"Medium\",r.disableMedium=!0,r.disableEasy=!1,r.disableHard=!1):\"fa fa-3x fa-battery-full text-primary level-higher-hard\"==t&&(e.currentLevel=\"Advanced\",r.disableEasy=!1,r.disableMedium=!1,r.disableHard=!0)},2e3),s.emit(\"update course\",n.data.level,r.currentProduct,\"level\")):(r.levelErrMsg=n.data.message,r.disabled=!1)})},r.removeDescription=function(e,t,a){var i={};i._id=r.currentProduct,i.description=e,i.array=t,i.index=a,n.deleteDescription(i).then(function(e){e.data.success?(r.descriptionErrMsg=!1,r.disabled=!0,r.descriptionMsg=e.data.message,o(function(){r.descriptionMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.product.description,r.currentProduct,\"description\")):(r.descriptionErrMsg=e.data.message,o(function(){r.descriptionErrMsg=!1},2e3))})},r.updateIntro=function(){var e={};r.editIntroMsg=!1,r.disabled=!0,e._id=r.currentProduct,e.introText=r.introText,n.editProduct(e).then(function(e){e.data.success?(r.disabled=!1,r.editIntroMsg=e.data.message,o(function(){r.editIntroMsg=!1,r.disabled=!1},2e3),s.emit(\"update course\",e.data.intro,r.currentProduct,\"introText\")):(r.editIntroMsgErr=e.data.message,o(function(){r.editIntroMsgErr=!1},2e3))})},r.showDeletedComment=function(e){r.deletedComment=e,$(\"#removeComment\").modal(\"show\")},r.showDeletedReply=function(e,t){r.deletedReply=e,r.deletedComment=t,$(\"#removeReply\").modal(\"show\")},r.deleteComment=function(e){var t={};t._id=r.currentProduct,t.comment=e,n.removeComment(t).then(function(e){e.data.success?(r.errorMsg=!1,r.disabled=!0,r.delCommentMsg=e.data.message,o(function(){r.delCommentMsg=!1,r.disabled=!1},2e3),s.emit(\"update comment\",e.data.product.comments,r.currentProduct)):r.delCommentMsgErr=e.data.message})},r.deleteReply=function(e,t){var a={};a._id=r.currentProduct,a.reply=e,a.commentId=t._id,n.removeReply(a).then(function(e){e.data.success?(r.disabled=!0,r.delCommentMsg=e.data.message,o(function(){r.delCommentMsg=!1,r.disabled=!1},2e3),s.emit(\"update reply\",e.data.product.comments,r.currentProduct)):(r.delCommentMsgErr=e.data.message,o(function(){r.delCommentMsgErr=!1},2e3))})},r.AddDashboardComment=function(t,a){r.disabled=!0,r.loading=!0,r.errorMsg=!1;var i={};a?(i._id=r.currentProduct,i.comment=t,n.postAdminComment(i).then(function(t){t.data.success?(r.commentAdminMsg=\"Comment has been added!\",r.loading=!1,o(function(){e.editProduct.comment=\"\",r.AdminCommentForm.$setPristine(),r.AdminCommentForm.$setUntouched(),r.commentAdminMsg=!1,r.disabled=!1},2e3),s.emit(\"new comment\",r.currentProduct,t.data.product.comments[t.data.product.comments.length-1])):(r.disabled=!1,r.loading=!1,r.commentAdminErrMsg=t.data.message)})):(r.disabled=!1,r.loading=!1,r.commentAdminErrMsg=\"Your comment has not been added. Add some content\",o(function(){r.AdminCommentForm.$setPristine(),r.AdminCommentForm.$setUntouched(),r.commentAdminErrMsg=!1},3e3))},r.replyComment=function(e,t,a,i){var c={},l={};a.$valid?(c.replyComment=t,c.id=e,c._id=r.currentProduct,n.replyComment(c).then(function(e){e.data.success?(r.disabled=!0,l.index=i-1,l.username=e.data.user.username,l.reply=e.data.product.comments[i-1].reply[e.data.product.comments[i-1].reply.length-1],r.replyAdminMsg=\"Comment has been added!\",r.loading=!1,o(function(){r.commentReply[i]=\"\",a.$setPristine(),r.replyAdminMsg=!1,r.disabled=!1},2e3),s.emit(\"reply\",l)):(r.disabled=!1,r.loading=!1,r.replyAdminErrMsg=e.data.message)})):(r.disabled=!1,r.loading=!1,r.replyAdminErrMsg=\"Your comment has not been added. Add some content.\",o(function(){r.replyAdminErrM=!1},3e3))},s.on(\"updateComment\",function(e){r.comments=e.comment}),s.on(\"updateReply\",function(e){r.comments=e.reply}),s.on(\"newComment\",function(e){r.comments.push(e.comment)}),s.on(\"reply\",function(e){r.comments[e.reply.index].reply.push(e.reply.reply)}),s.on(\"updateCourse\",function(e){switch(e.name){case\"description\":r.newDescription=e.record;break;case\"title\":r.newTitle=e.record;break;case\"subTitle\":r.newSubtitle=e.record;break;case\"oldPrice\":r.newOldPrice=e.record;break;case\"newPrice\":r.newNewPrice=e.record;break;case\"level\":r.newLevel=e.record;break;case\"body\":r.editBody=e.record;break;case\"imagePath\":r.newImage=e.record;break;case\"introText\":r.introText=e.record;break;case\"authorName\":r.authorName=e.record;break;case\"authorEducation\":r.authorEdu=e.record;break;case\"authorDescription\":r.authorDescription=e.record}}),document.querySelector(\"textarea#admin-dash-textarea\").addEventListener(\"keydown\",function(){var e=this;setTimeout(function(){e.style.cssText=\"height:\"+e.scrollHeight+\"px\"},0)})}]).controller(\"managementProduct\",[\"User\",\"$scope\",\"$timeout\",function(e,t,n){var o=this;o.sorted=!0,o.currentPage=1,o.itemsPerPage=\"16\",o.selectSort=\"Sort\",o.titleSort=\"titleSort\",o.loadingPage=!0;var a=io.connect();e.getProducts().then(function(e){var t=[];o.productsPag=e.data.products.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),e.data.products.forEach(function(e){return t.push(e.title)}),o._titles=t.filter(function(e,n){return t.indexOf(e)===n}),o.articlesCount=Array.from(o._titles).length>3,o.loadingPage=!1}),o.sortByCourse=function(t,n){t?-1===t.target.className.indexOf(\"sortedCourse\")?(e.getProducts().then(function(e){o.productsPag=e.data.products.filter(function(e){return e.title===n})}),o.propertyLevel=void 0,o.propertyName=n):(e.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return new Date(t.date)-new Date(e.date)})}),o.propertyLevel=void 0,o.propertyName=void 0):\"allArticles\"===n?(e.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return new Date(t.date)-new Date(e.date)})}),o.propertyName=!1):(e.getProducts().then(function(e){o.productsPag=e.data.products.filter(function(e){return e.title===n})}),o.propertyName=n)},o.sortByLevel=function(t,n){o.propertyName=void 0,o.propertyLevel==t.target.className?(e.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return new Date(e.date)-new Date(t.date)})}),o.propertyLevel=void 0):(o.propertyLevel=n,e.getProducts().then(function(e){o.productsPag=e.data.products.filter(function(e){return e.level==n})}))},o.applySortBy=function(t){o.propertyLevel=void 0,o.propertyName=void 0,\"Recent\"===t?e.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return new Date(t.date)-new Date(e.date)})}):\"Price ascending\"===t?e.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return e.newPrice-t.newPrice})}):\"Price descending\"===t?e.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return t.newPrice-e.newPrice})}):\"Alphabetically\"===t&&e.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return e.subTitle<t.subTitle?-1:e.subTitle>t.subTitle?1:0})})},o.setItem=function(e){o.itemsPerPage=e,o.currentPage=1},o.showDeletedVideo=function(e){o.deleteVideo=e,$(\"#removeVideo\").modal(\"show\")},o.deleteVideoCourse=function(t){e.deleteVideoCourse(t).then(function(e){e.data.success?(o.successDelMsg=e.data.message,n(function(){o.successDelMsg=!1},2500),a.emit(\"delete course\",e.data.course)):(o.errDelMsg=e.data.message,n(function(){o.errDelMsg=!1},2500))})},a.on(\"deleteCourse\",function(e){o.productsPag=o.productsPag.filter(function(t){return t._id!=e.course})})}]).controller(\"newBlogCtrl\",[\"$scope\",\"User\",\"$timeout\",function(e,t,n){var o=this;o.inputs=[],o.articleTags=[],o.blog={articleBlogImg:[],tags:[],description:[]},o.thumbnail={dataUrl:null},$(\"#tag-typer\").keypress(function(e){var t=e.which;if(13==t||44==t){e.preventDefault();var n=$(this).val();n.length>0&&($(\"<span class='tag' style='display:none'><span class='close'>&times;</span>\"+n+\" </span>\").insertBefore(this).fadeIn(100),o.articleTags.push(n.trim()),$(this).val(\"\"))}}),$(\"#tags\").on(\"click\",\".close\",function(){$(this).parent(\"span\").fadeOut(100);for(var e=0;e<o.articleTags.length;e++)o.articleTags[e].trim()===$(this)[0].nextSibling.data.trim()&&o.articleTags.splice(e,1)}),e.articleIntroImg=function(e){if(o.fileReaderSupported=null!=window.FileReader,null!=e){var t=e[0];o.fileReaderSupported&&e[0].name.match(/\\.(png|jpeg|jpg)$/)&&n(function(){var e=new FileReader;e.readAsDataURL(t),e.onload=function(e){n(function(){o.blog.articleBlogImg=t.name,o.thumbnail.dataUrl=e.target.result,o.imagePreview=!0})}})}},o.addfield=function(){o.inputs.push({})},o.clearImg=function(){o.uploading=!1,o.blog.articleBlogImg=\"\",o.thumbnail.dataUrl=void 0,o.imagePreview=!1,angular.forEach(angular.element(document.querySelector(\"#selectBlogImage\")),function(e){angular.element(e).val(null)})},o.addNewArticle=function(a,r){a.tags=o.articleTags,o.disabled=!0,r?t.newBlogArticle(a).then(function(r){a.tags=\"\",r.data.success?(o.disabled=!1,o.message=r.data.message,n(function(){o.message=!1,o.blog={},$(\"span.tag\").detach(),e.blogForm.$setPristine(),e.blogForm.contentEditDiv.$setPristine(),o.imagePreview=!1,o.articleTags.length=0,angular.forEach(angular.element(document.querySelector(\"#selectBlogImage\")),function(e){angular.element(e).val(null)})},2e3),t.upload(e.file).then(function(t){t.data.success?(o.uploading=!1,e.file={}):(o.uploading=!1,o.errorMsg=t.data.message,e.file={})})):(o.errMessage=r.data.message,n(function(){o.errMessage=!1,o.disabled=!1},2e3))}):(o.errMessage=\"Fill the form correctly\",n(function(){o.errMessage=!1,o.disabled=!1},2e3))}}]).directive(\"codeContent\",[\"hljsService\",\"$window\",\"$sce\",function(e,t,n){return{restrict:\"A\",link:function(o,a,r){o.$watch(n.parseAsHtml(r.codeContent),function(n){if(n){a.html(n);var o=t.hljs||e;if(a.find(\"pre\")[0])for(var r=0;r<a.find(\"pre\").length;r++)o.highlightBlock(a.find(\"pre\")[r])}else a.html(\"\")})}}}]).directive(\"dateNow\",[\"$filter\",function(e){return{link:function(t,n,o){n.text(e(\"date\")(new Date,o.dateNow))}}}]).controller(\"allArticlesCtrl\",[\"$scope\",\"User\",\"$timeout\",function(e,t,n){var o=this,a=io.connect();function r(e){o.sortUp=!0,o.sortDown=!1,t.getArticles().then(function(e){o.articles=e.data.articles.sort(function(e,t){return new Date(t.date)-new Date(e.date)})})}o.currentPage=1,o.itemsPerPage=\"15\",o.selectSort=\"Sort\",o.loadingPage=!0,t.getArticles().then(function(e){var t=[];o.articles=e.data.articles.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),o.tags=e.data.articles.forEach(function(e){return e.tags.forEach(function(e){return t.push(e)})}),o._tags=t.filter(function(e,n){return t.indexOf(e)==n}),o.loadingPage=!1}),o.applySortBy=function(e){\"allArticles\"===e?t.getArticles().then(function(e){o.articles=e.data.articles.sort(function(e,t){return new Date(t.date)-new Date(e.date)})}):t.getArticles().then(function(t){o.articles=t.data.articles.filter(function(t){return t.tags.some(function(t){return e===t})})})},o.searchByTitle=function(e){e.length?t.getArticles().then(function(t){o.articles=t.data.articles.filter(function(t){return t.title.substring(0,e.length).toUpperCase()===e.toUpperCase()})}):r()},o.sortByDate=function(e){o.currentPage=1;var n=e.currentTarget.firstElementChild.classList[2];\"up\"===n?(e.currentTarget.lastChild.classList.remove(\"glyphicon-arrow-up\",\"up\"),e.currentTarget.lastChild.classList.add(\"glyphicon-arrow-down\",\"down\"),o.currentPage,o.sortDown=!0,o.sortUp=!1,t.getArticles().then(function(e){o.articles=e.data.articles.sort(function(e,t){return new Date(e.date)-new Date(t.date)})})):\"down\"===n&&(e.currentTarget.lastChild.classList.remove(\"glyphicon-arrow-down\",\"down\"),e.currentTarget.lastChild.classList.add(\"glyphicon-arrow-up\",\"up\"),r(o.currentPage))},o.showDeletedArticle=function(e){o.deleteArticle=e,$(\"#removeArticle\").modal(\"show\")},o.deleteArticles=function(e){t.deleteArticle(e._id).then(function(e){e.data.success?(o.artMsg=e.data.message,n(function(){o.artMsg=!1},2e3),t.getArticles().then(function(e){a.emit(\"deleteArticle\",e.data)})):(o.artErrMsg=e.data.message,n(function(){o.artErrMsg=!1},2e3))})},a.on(\"deleteArticle\",function(e){if(e.data.success){var t=[];o.articles=e.data.articles.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),o.tags=e.data.articles.forEach(function(e){return e.tags.forEach(function(e){return t.push(e)})}),o._tags=t.filter(function(e,n){return t.indexOf(e)==n})}})}]).controller(\"editArticleCtrl\",[\"$scope\",\"User\",\"$timeout\",\"$stateParams\",function(e,t,n,o){var a=this,r=io.connect();a.articleTags=[],a.selectNumber=\"15\",a.currentPage=1,a.itemsPerPage=a.selectNumber,t.editArticle(o.id).then(function(e){a.user=e.data.id,a.title=e.data.articles[0].title,a.id=e.data.articles[0]._id,a.body=e.data.articles[0].body,a.tags=e.data.articles[0].tags,a.author=e.data.articles[0].author,a.articleComments=e.data.articles[0].comments,a.totalItems=e.data.articles[0].comments.length,e.data.articles[0].imagePath&&(a.imagePath=e.data.articles[0].imagePath,a.imagePreview=!0),a.tags.length>0&&a.tags.forEach(function(e){return[$(\"<span class='tag'><span class='close'>&times;</span>\"+e+\" </span>\").insertBefore(\"#tagsEdit-typer\"),a.articleTags.push(e)]}),a.dislikeVote=function(e){if(e.length)for(var t=0;t<e.length;t++)if(e[t].id==a.user&&\"dislike\"===e[t].vote)return\"activeLike\"},a.likeVote=function(e){if(e.length)for(var t=0;t<e.length;t++)if(e[t].id==a.user&&\"like\"===e[t].vote)return\"activeLike\"},r.emit(\"connect admin\",a.id)}),e.articleEditImg=function(e){if(a.fileReaderSupported=null!=window.FileReader,null!=e){var t=e[0];a.fileReaderSupported&&e[0].name.match(/\\.(png|jpeg|jpg)$/)&&n(function(){var e=new FileReader;e.readAsDataURL(t),e.onload=function(e){n(function(){a.imagePath=t.name,a.imagePreview=!0})}})}},a.clearImg=function(){a.uploading=!1,a.imagePath=\"\",a.imagePreview=!1,angular.forEach(angular.element(document.querySelector(\"#editImageArticle\")),function(e){angular.element(e).val(null)})},a.saveEditedArticle=function(o,s){if(a.disabled=!0,s){var i={};i.title=o.title,i.id=o.id,i.author=o.author,i.body=o.body,i.imagePath=o.imagePath,i.tags=a.articleTags,t.saveChangesArticle(i).then(function(o){o.data.success?(a.message=o.data.message,n(function(){e.editArticleBlog.$setPristine(),e.editArticleBlog.contentEditDiv.$setPristine(),a.imagePreview=!1,a.disabled=!1,a.message=!1},2e3),r.emit(\"update article\",o.data.article,a.id),t.upload(e.file).then(function(t){t.data.success?(a.uploading=!1,e.file={}):(a.uploading=!1,a.errorMsg=t.data.message,e.file={})})):(a.errMessage=o.data.message,n(function(){a.errMessage=!1,a.disabled=!1},2e3))})}else a.errMessage=\"Fill the form correctly\",n(function(){a.errMessage=!1},2e3)},a.adminComment=function(e,o,s){if(a.errCommentMsg=!1,a.disableComment=!0,a.loadingComment=!0,o){var i={};i.comment=e,i._id=a.id,a.disableComment=!1,a.loadingComment=!1,t.articleAdminComment(i).then(function(e){e.data.success?(a.commentMsg=e.data.message,n(function(){a.comment=\"\",a.adminArticleComment.$setPristine(),a.commentMsg=!1},2e3),r.emit(\"article adminComment\",e.data.id,e.data.comment)):(a.errCommentMsg=e.data.message,n(function(){a.errCommentMsg=!1,a.disableComment=!1,a.loadingComment=!1},2e3))})}else a.errCommentMsg=\"Add comment content\",a.disableComment=!1,a.loadingComment=!1,n(function(){a.errCommentMsg=!1,a.adminArticleComment.$setPristine()},2e3)},a.adminReply=function(e,o,s){if(a.addedReply=e._id,a.errReply=!1,a.disableReply=!0,a.loadingReply=!0,s.$valid){var i={};i._id=a.id,i.commentId=e._id,i.reply=o,a.disableReply=!1,a.loadingReply=!1,t.articleAdminReply(i).then(function(t){t.data.success?(a.replyMsg=t.data.message,n(function(){s.$setPristine(),a.commentReply[e.number]=\"\",a.replyMsg=!1},2e3),r.emit(\"article adminReply\",a.id,t.data.reply,e.number)):(a.errReply=t.data.message,n(function(){a.errReply=!1},2e3))})}else a.errReply=\"Add reply content\",a.disableReply=!1,a.loadingReply=!1,n(function(){a.errReply=!1},2e3)},a.delArticleComment=function(e){var o={};o.id=a.id,o.commentId=e._id,t.articleRemoveComment(o).then(function(e){e.data.success?(a.removedCommentMsg=e.data.message,n(function(){a.removedCommentMsg=!1},2e3),r.emit(\"article removeComment\",a.id,e.data.article)):(a.removedCommentErrMsg=e.data.message,n(function(){a.removedCommentErrMsg=!1},2e3))})},a.delCommentReply=function(e,o,s){var i={};i.id=a.id,i.commentId=o,i.replyId=e._id,a.deletedReplyId=o,t.articleRemoveReply(i).then(function(e){e.data.success?(a.removedReplyMsg=e.data.message,n(function(){a.removedReplyMsg=!1},2e3),r.emit(\"article removeReply\",a.id,e.data.article,s)):(a.removedReplyErrMsg=e.data.message,n(function(){a.removedReplyErrMsg=!1},2e3))})},a.voteComment=function(e,o,s){var i={};i.id=a.id,i.vote=o,i.commentId=e._id,t.articleVoteComment(i).then(function(t){t.data.success?r.emit(\"vote adminComment\",a.id,t.data.vote,e.number):(a.clickedComment=e._id,\"dislike activeLike\"===s.currentTarget.className?a.errVoteDislike=t.data.message:\"like activeLike\"===s.currentTarget.className&&(a.errVote=t.data.message),n(function(){a.errVote=!1,a.errVoteDislike=!1},2e3))})},a.voteReply=function(e,o,s,i,c){var l={};l.id=a.id,l.vote=s,l.commentId=e._id,l.replyId=o._id,t.articleVoteReply(l).then(function(t){t.data.success?r.emit(\"vote adminReply\",a.id,t.data.vote,e.number,c+1):(a.clickedReply=o._id,\"dislike activeLike\"===i.currentTarget.className?a.errReplyVoteDislike=t.data.message:\"like activeLike\"===i.currentTarget.className&&(a.errReplyVote=t.data.message),n(function(){a.errReplyVote=!1,a.errReplyVoteDislike=!1},2e3))})},a.setItemsPerPage=function(e){a.itemsPerPage=e,a.currentPage=1},a.sortComment=function(e){a.reverse=a.propertyName===e&&!a.reverse,a.propertyName=e},$(\"#tagsEdit-typer\").keypress(function(e){var t=e.which;if(13==t||44==t){e.preventDefault();var n=$(this).val();n.length>0&&($(\"<span class='tag' style='display:none'><span class='close'>&times;</span>\"+n+\" </span>\").insertBefore(this).fadeIn(100),a.articleTags.push(n.trim()),$(this).val(\"\"))}}),$(\"#tagsEdit\").on(\"click\",\".close\",function(){$(this).parent(\"span\").fadeOut(100);for(var e=0;e<a.articleTags.length;e++)a.articleTags[e].trim()===$(this)[0].nextSibling.data.trim()&&a.articleTags.splice(e,1)}),$(document).ready(function(){$(document).on(\"click\",\".like, .dislike\",function(e){e.preventDefault(),$(this).parent().children().removeClass(\"activeLike\"),$(this).effect(\"bounce\",{times:4},1e3),$(this).addClass(\"activeLike\")})}),a.showRemoveCommentModal=function(e){a.deletedComment=e,$(\"#delArticleComment\").modal(\"show\")},a.showRemoveReplyModal=function(e,t){a.deletedReply=e,a.parentComment=t._id,a.commentNumber=t.number,$(\"#delArticleReply\").modal(\"show\")},r.on(\"newBlogComment\",function(e){a.articleComments.push(e.comment),a.totalItems=a.articleComments.length}),r.on(\"blogReply\",function(e){a.articleComments[e.commentNumber-1].reply.push(e.reply)}),r.on(\"articleAdminComment\",function(e){a.articleComments.push(e.articleComment),a.totalItems=a.articleComments.length}),r.on(\"articleAdminReply\",function(e){a.articleComments[e.commentNumber-1].reply.push(e.articleReply)}),r.on(\"articleRemoveComment\",function(e){a.articleComments=e.comments,a.totalItems=a.articleComments.length,Number.parseInt(a.totalItems)===Number.parseInt(a.selectNumber)&&(a.currentPage-=1)}),r.on(\"articleRemoveReply\",function(e){a.articleComments[e.number-1].reply=e.data}),r.on(\"voteAdminComment\",function(e){a.articleComments[e.number-1].ratings=e.vote}),r.on(\"voteAdminReply\",function(e){a.articleComments[e.number-1].reply[a.articleComments[e.number-1].reply.length-e.index].ratings=e.vote}),document.querySelector(\"textarea#admin-dash-textarea\").addEventListener(\"keydown\",function(){var e=this;setTimeout(function(){e.style=\"height:\"+e.scrollHeight+\"px\"},0)})}]).controller(\"editAdminCtrl\",[\"$scope\",\"$timeout\",\"User\",\"AuthAdminToken\",function(e,t,n,o){var a=this;a.loadingPage=!0,a.saveChangesLoading=!1,a.successChanged=!1,a.correctInput=!0,a.confirmDisabled=!0,n.editAdminProfile().then(function(e){a.loadingPage=!1,a.disabledProfile=!0,a.change={},e.data.success?(a.change.changeName=e.data.admin.name,a.change.changeUsername=e.data.admin.username,a.change.changeEmail=e.data.admin.email):a.loadingPage=!0}),a.editProfile=function(){a.disabledProfile=!1},a.saveChanges=function(r,s){s&&(a.saveChangesLoading=!0,n.saveChangesAdminAccount(a.change).then(function(n){n.data.success?(a.saveChangesLoading=!1,a.successChanged=n.data.message,o.setToken(n.data.token),t(function(){a.disabledProfile=!0,e.editAccountAdmin.$setPristine(),a.successChanged=!1,a.emailMsg=!1,a.usernameMsg=!1},1e3)):n.data.message.username?(e.editAccountAdmin.changeAdminUsername.$setValidity(\"changeAdminUsername\",!1),a.adminAccountErrMsg=n.data.message.username.message,a.saveChangesLoading=!1):n.data.message.email?(e.editAccountAdmin.changeAdminEmail.$setValidity(\"changeEmail\",!1),a.adminAccountErrMsg=n.data.message.email.message,a.saveChangesLoading=!1):n.data.message.name?(e.editAccountAdmin.changeAdminName.$setValidity(\"changeAdminName\",!1),a.adminAccountErrMsg=n.data.message.name.message,a.saveChangesLoading=!1):(a.adminAccountErrMsg=n.data.message,e.editAccountAdmin.$setValidity(\"editAccountAdmin\",!1),a.saveChangesLoading=!1)}))},a.checkChangedUsername=function(o){a.usernameMsg=!1,a.usernameErrMsg=!1,a.loadingUsername=!0,n.checkAdminUsername(a.change).then(function(n){n.data.success?(a.loadingUsername=!1,a.usernameMsg=!0,t(function(){a.usernameMsg=!1},2e3),e.editAccountAdmin.changeAdminUsername.$setValidity(\"changeAdminUsername\",!0)):(a.loadingUsername=!1,t(function(){a.usernameErrMsg=n.data.message},500),e.editAccountAdmin.changeAdminUsername.$setValidity(\"changeAdminUsername\",!1))})},a.checkChangedEmail=function(o){a.emailMsg=!1,a.emailErrMsg=!1,a.loadingEmail=!0,n.checkAdminEmail(a.change).then(function(n){n.data.success?(a.loadingEmail=!1,a.emailMsg=!0,t(function(){a.emailMsg=!1},2e3),e.editAccountAdmin.changeAdminEmail.$setValidity(\"changeAdminEmail\",!0)):(a.loadingEmail=!1,t(function(){a.emailErrMsg=n.data.message},500),e.editAccountAdmin.changeAdminEmail.$setValidity(\"changeAdminEmail\",!1))})},a.checkCurrPass=function(e){a.loadingPassword=!0,a.passwordInvalid=!1,a.passMsg=!1,a.passErrMsg=!1,n.checkAdminPassword(a.pass).then(function(e){e.data.success?(a.passMsg=!0,a.loadingPassword=!1,a.passwordInvalid=!1):(a.passwordInvalid=!0,a.loadingPassword=!1,a.passErrMsg=e.data.message,t(function(){a.passErrMsg=!1},1500))})},a.comparePasswords=function(e){a.compareInvalid=!0,a.comMsg=!1,a.comErrPass=!1,a.loadingNewPassword=!0,n.compareAdminPasswords(a.pass).then(function(e){e.data.success?(a.confirmDisabled=!1,a.loadingNewPassword=!1,a.compareInvalid=!1,a.comMsg=!0):(a.confirmDisabled=!0,a.loadingNewPassword=!1,a.comErrPass=e.data.message,a.compareInvalid=!0)})},a.saveChangePassword=function(o,r){r&&(a.passMsg=!1,a.saveNewPassword=!0,n.saveChangeAdminPassword(a.pass).then(function(n){n.data.success?(a.showPassMsg=n.data.message,t(function(){a.showPassMsg=!1,e.changeAdminPassword.$setPristine(),a.pass={currentPass:\"\",newPass:\"\",confirmPass:\"\"}},1500),t(function(){a.saveNewPassword=!1},1e3)):(a.saveNewPassword=!1,a.showPassErr=n.data.message,t(function(){a.showPassErr=!1},2e3))}))}}]).controller(\"aboutAdminCtrl\",[\"$scope\",\"User\",\"$timeout\",function(e,t,n){var o=this,a=io.connect();o.loadingPage=!0,t.getAboutUsPage().then(function(e){o.body=e.data.about.author,o.blog=e.data.about.blog,o.loadingPage=!1}),o.editAboutUs=function(e,r){r&&t.editAboutUsPage(e).then(function(e){e.data.success?(\"description\"===e.data.type?(o.aboutMsg=e.data.message,n(function(){o.aboutMsg=!1},2e3)):(o.blogMsg=e.data.message,n(function(){o.blogMsg=!1},2e3)),a.emit(\"aboutUs\",e.data.about)):\"description\"===e.data.type?(o.aboutErrMsg=e.data.message,n(function(){o.aboutErrMsg=!1},2e3)):(o.blogErrMsg=e.data.message,n(function(){o.blogErrMsg=!1},2e3))})}}]),angular.module(\"emailController\",[\"userServices\"]).controller(\"emailCtrl\",[\"$stateParams\",\"$state\",\"User\",\"$timeout\",function(e,t,n,o){var a=this;n.activateAccount(e.token).then(function(e){a.errorMsg=!1,e.data.success?(a.successMsg=e.data.message+\"...Redirecting\",o(function(){t.go(\"parent.home\")},2e3)):(a.errorMsg=e.data.message+\"...Redirecting\",o(function(){t.go(\"parent.home\")},2e3))})}]).controller(\"resendCtrl\",[\"User\",function(e){var t=this;t.checkCredentials=function(n){t.disabled=!0,t.errorMsg=!1,e.checkCredentials(t.loginData).then(function(n){n.data.success?e.resendLink(t.loginData).then(function(e){e.data.success?t.successMsg=e.data.message:t.errorMsg=e.data.message}):(t.disabled=!1,t.errorMsg=n.data.message)})}}]).controller(\"usernameCtrl\",[\"User\",function(e){var t=this;t.sendUsername=function(n,o){t.errorMsg=!1,t.loading=!0,t.disabled=!0,o?e.sendUsername(t.userData.email).then(function(e){t.loading=!1,e.data.success?t.successMsg=e.data.message:(t.disabled=!1,t.errorMsg=e.data.message)}):(t.disabled=!1,t.loading=!1,t.errorMsg=\"Provide a valid email address\")}}]).controller(\"passwordCtrl\",[\"User\",function(e){var t=this;t.sendPassword=function(n,o){t.errorMsg=!1,t.loading=!0,t.disabled=!0,o?e.sendPassword(t.resetData).then(function(e){t.loading=!1,e.data.success?t.successMsg=e.data.message:(t.disabled=!1,t.errorMsg=e.data.message)}):(t.disabled=!1,t.loading=!1,t.errorMsg=\"Provide a valid username\")}}]).controller(\"resetCtrl\",[\"User\",\"$stateParams\",\"$state\",\"$scope\",\"$timeout\",function(e,t,n,o,a){var r=this;r.hide=!0,e.resetUser(t.token).then(function(e){e.data.success?(r.hide=!1,r.successMsg=\"Enter a new password\",o.username=e.data.user.username):r.errorMsg=e.data.message}),r.savePassword=function(t,s,i){r.errorMsg=!1,r.disabled=!0,r.loading=!0,s&&i?(r.regData.username=o.username,e.savePassword(r.regData).then(function(e){r.loading=!1,e.data.success?(r.successMsg=e.data.message+\"...Redirecting\",a(function(){n.go(\"parent.home\")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)})):(r.loading=!1,r.disabled=!1,r.errorMsg=\"Make sure that the form has been completed correctly\")}}]),angular.module(\"navController\",[\"userServices\",\"angularMoment\",\"btford.socket-io\",\"angular.filter\"]).controller(\"seeMoreCtrl\",[\"$scope\",\"$stateParams\",\"User\",\"$location\",\"$window\",\"$timeout\",\"Auth\",function(e,t,n,o,a,r,s){var i=io.connect(),c=this;c.comments=[],n.readMoreCourse(t.id).then(function(e){e.data.success?(c.image=e.data.product.imagePath,c.authorName=e.data.product.author.name,c.authorEdu=e.data.product.author.education,c.authorDescription=e.data.product.author.description,c.introText=e.data.product.introText,c.title=e.data.product.title,c.subTitle=e.data.product.subTitle,c.oldPrice=e.data.product.oldPrice,c.newPrice=e.data.product.newPrice,c.id=e.data.product._id,c.comments=e.data.product.comments,c.body=e.data.product.body):a.location.assign(\"/404\"),i.emit(\"connect user\",c.id)}),c.AddComment=function(e,t,o){if(c.errCommentMsg=!1,c.disableComment=!0,c.loadingComment=!0,t){var a={};a.comment=e,a._id=c.id,c.disableComment=!1,c.loadingComment=!1,n.postComment(a).then(function(e){e.data.success?(c.commentMsg=e.data.message,r(function(){c.comment=\"\",c.AddCommentForm.$setPristine(),c.commentMsg=!1},2e3),i.emit(\"new comment\",e.data.id,e.data.comment)):(c.errCommentMsg=e.data.message,r(function(){c.errCommentMsg=!1,c.disableComment=!1,c.loadingComment=!1},2e3))})}else c.errCommentMsg=\"Add comment content\",c.disableComment=!1,c.loadingComment=!1,r(function(){c.errCommentMsg=!1,c.AddCommentForm.$setPristine()},2e3)},c.userReply=function(e,t,o){if(c.addedReply=e._id,c.errReply=!1,c.disableReply=!0,c.loadingReply=!0,o.$valid){var a={};a._id=c.id,a.commentId=e._id,a.reply=t,c.disableReply=!1,c.loadingReply=!1,n.replyUserComment(a).then(function(t){t.data.success?(c.replyMsg=t.data.message,r(function(){o.$setPristine(),c.commentReply[e.number]=\"\",c.replyMsg=!1},2e3),i.emit(\"reply\",c.id,t.data.reply,e.number)):(c.errReply=t.data.message,r(function(){c.errReply=!1},2e3))})}else c.errReply=\"Add comment content\",c.disableReply=!1,c.loadingReply=!1,r(function(){c.errReply=!1},2e3)},i.on(\"updateComment\",function(e){c.comments=e.comment}),i.on(\"newComment\",function(e){c.comments.push(e.comment)}),i.on(\"reply\",function(e){c.comments[e.commentNumber-1].reply.push(e.reply)}),i.on(\"updateReply\",function(e){c.comments=e.reply}),e.$on(\"$locationChangeStart\",function(e){i.disconnect(!0)}),i.on(\"updateCourse\",function(e){switch(e.name){case\"description\":c.description=e.record;break;case\"title\":c.title=e.record;break;case\"subTitle\":c.subTitle=e.record;break;case\"oldPrice\":c.oldPrice=e.record;break;case\"newPrice\":c.newPrice=e.record;break;case\"level\":c.level=e.record;break;case\"body\":c.body=e.record;break;case\"imagePath\":c.image=e.record;break;case\"introText\":c.introText=e.record;break;case\"authorName\":c.authorName=e.record;break;case\"authorEducation\":c.authorEdu=e.record;break;case\"authorDescription\":c.authorDescription=e.record}})}]).controller(\"navCtrl\",[\"$scope\",\"User\",function(e,t){var n=io.connect(),o=this;o.sorted=!0,o.selectSort=\"Sort\",o.currentPage=1,o.itemsPerPage=8,o.loadingPage=!0,t.getProducts().then(function(e){o.sortedProducts=e.data.products.sort(function(){return.5-Math.random()}).slice(0,1),o.productsPag=e.data.products.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),o.loadingPage=!1,o.productsPag.forEach(function(e){return n.emit(\"connect user\",e._id)})}),o.sortByCourse=function(e){t.getProducts().then(function(t){o.productsPag=t.data.products.filter(function(t){return t.title==e})}),o.propertyLevel=void 0,o.propertyName=e},o.sortByLevel=function(e,n){o.propertyName=void 0,o.propertyLevel==e.target.className?(t.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return new Date(e.date)-new Date(t.date)})}),o.propertyLevel=void 0):(o.propertyLevel=n,t.getProducts().then(function(e){o.productsPag=e.data.products.filter(function(e){return e.level==n})}))},o.applySortBy=function(e){o.propertyLevel=void 0,o.propertyName=void 0,\"Recent\"===e?t.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return new Date(t.date)-new Date(e.date)})}):\"Price ascending\"===e?t.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return e.newPrice-t.newPrice})}):\"Price descending\"===e?t.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return t.newPrice-e.newPrice})}):\"Alphabetically\"===e&&t.getProducts().then(function(e){o.productsPag=e.data.products.sort(function(e,t){return e.subTitle<t.subTitle?-1:e.subTitle>t.subTitle?1:0})})},n.on(\"product\",function(e){o.productsPag.push(e.product),o.productsPag.sort(function(e,t){return new Date(t.date)-new Date(e.date)})}),n.on(\"deleteCourse\",function(e){o.productsPag=o.productsPag.filter(function(t){return t._id!=e.course})}),n.on(\"updateCourse\",function(e){o.productsPag.find(function(t){return t._id===e.id})[e.name]=e.record})}]).controller(\"contactCtrl\",[\"$scope\",\"$timeout\",\"User\",function(e,t,n){var o=this;o.loadingPage=!0,e.$on(\"$viewContentLoaded\",function(){o.loadingPage=!1}),o.contactUser=function(e,a){o.loading=!0,o.errorMsg=!1,a?n.sendMessage(o.messageData).then(function(e){e.data.success?(o.loading=!1,o.successMsg=e.data.message+\"...\",t(function(){o.messageData={},o.messageForm.$valid,o.messageForm.$setPristine(),o.messageForm.$setUntouched(),o.successMsg=!1},3e3)):(o.loading=!1,o.errorMsg=e.data.message)}):(o.disabled=!1,o.loading=!1,o.errorMsg=\"Make sure that you have filled in the contact form correctly\",t(function(){o.errorMsg=!1},2e3))}}]).controller(\"checkoutCtrl\",[\"$scope\",\"$timeout\",\"User\",\"$window\",\"$state\",function(e,t,n,o,a){var r=this;r.showPerson=!0,r.showCompany=!0,r.showPaymentForm=!1,r.showCompleteInfo=!1,r.showReceiptForm=!0,r.errorMsg=!1,r.stepOne=\"active\",r.stepTwo=\"disabled\",r.stepThree=\"disabled\",r.orderMsg=!1,r.orderErr=!1,r.changePrivateButton=!1,r.changeCompanyButton=!1,r.summaryTable=!0,r.confirmErrMsg=!1,r.confirmMsg=!1,r.loading=!1,n.checkOrderSession().then(function(s){s.data.success?(e.showPerson=function(){r.showPerson=!0,r.showCompany=!1},e.showCompany=function(){r.showCompany=!0,r.showPerson=!1},r.previous=function(){r.showPaymentForm=!1,r.showReceiptForm=!0,r.stepOne=\"active\",r.stepTwo=\"disabled\",r.stepThree=\"disabled\"},r.makeOrder=function(o,a){a?n.order(r.order).then(function(n){n.data.success?(r.orderMsg=n.data.message,t(function(){e.privatePerson.$valid&&e.companyForm.$valid&&(r.showPaymentForm=!0,r.showReceiptForm=!1,r.stepOne=\"complete\",r.stepTwo=\"active\",r.stepThree=\"disabled\",r.orderMsg=!1,r.changePrivateButton=!0)},2e3)):(r.errorMsg=n.data.message,t(function(){r.errorMsg=!1},2e3))}):(r.errorMsg=\"Fill the form correctly\",t(function(){r.errorMsg=!1},2e3))},r.makeCompanyOrder=function(o,a){a?n.companyOrder(r.companyOrder).then(function(n){n.data.success?(r.orderMsg=n.data.message,t(function(){e.privatePerson.$valid&&e.companyForm.$valid&&(r.showPaymentForm=!0,r.showReceiptForm=!1,r.stepOne=\"complete\",r.stepTwo=\"active\",r.stepThree=\"disabled\",r.orderMsg=!1,r.changeCompanyButton=!0)},2e3)):(r.errorMsg=n.data.message,t(function(){r.errorMsg=!1},2e3))}):(r.errorMsg=\"Fill the dorm correctly\",t(function(){r.errorMsg=!1},2e3))},r.payment=function(e,s){s?n.sendOrders(r.order).then(function(e){e.data.success?(r.PayMsg=e.data.message,o.location=e.data.body.redirectUri):a.go(\"parent.cart\")}):(r.errorPayMsg=\"Fill the form correctly\",t(function(){r.errorPayMsg=!1},2e3))},s.data.session.order&&s.data.session.cart?(r.showCompany=!1,r.showPerson=!0,r.changePrivateButton=!0,r.changeCompanyButton=!1,r.order.receiptName=s.data.session.order.name,r.order.receiptStreet=s.data.session.order.street,r.order.receiptHomeNumber=s.data.session.order.homeNumber,r.order.receiptPostCode=s.data.session.order.postCode,r.order.receiptCity=s.data.session.order.city):s.data.session.companyOrder&&s.data.session.cart?(r.changeCompanyButton=!0,r.changePrivateButton=!1,r.showCompany=!0,r.showPerson=!1,r.companyOrder.companyName=s.data.session.companyOrder.CompanyName,r.companyOrder.NIPNumber=s.data.session.companyOrder.NIP,r.companyOrder.companyStreet=s.data.session.companyOrder.CompanyStreet,r.companyOrder.companyHomeNumber=s.data.session.companyOrder.homeNumber,r.companyOrder.companyPostcode=s.data.session.companyOrder.postCode,r.companyOrder.companyCity=s.data.session.companyOrder.city,r.companyOrder.companyCountry=s.data.session.companyOrder.country):r.showCompany=!1):(o.location.replace(\"/courses\"),r.showCompany=!1)})}]).controller(\"aboutCtrl\",[\"User\",function(e){var t=this,n=io.connect();t.loadingPage=!0,e.getAboutUs().then(function(e){console.log(e.data),e.data.success&&e.data.about?(t.author=e.data.about.author,t.blog=e.data.about.blog,t.loadingPage=!1):t.loadingPage=!1}),n.on(\"aboutUs\",function(e){t.author=e.aboutUs.author,t.blog=e.aboutUs.blog})}]).controller(\"NoFoundCtrl\",function(){}).controller(\"shoppingCtrl\",function(){}).controller(\"homePageCtrl\",function(){}),angular.module(\"newCourseController\",[\"textAngular\",\"angularSpectrumColorpicker\"]).controller(\"newCourseCtrl\",[\"$scope\",\"$timeout\",\"User\",\"$state\",function(e,t,n,o){var a=this,r=io.connect(),s=[];a.inputs=[],a.productData={fileName:[]},a.imagePreview=!1,a.thumbnail={dataUrl:null},a.addfield=function(){a.inputs.push({})},a.photoChanged=function(e){if(e.length>0&&e[0].name.match(/\\.(png|jpeg|jpg)$/)){var n=e[0];a.uploading=!0,a.imagePreview=!0,s.push(n);for(var o=0;o<s.length;o++){var r=new FileReader;r.readAsDataURL(s[o]),r.onload=function(e){t(function(){a.thumbnail={},a.thumbnail.dataUrl=e.target.result,a.uploading=!1})}}}else a.thumbnail={}},e.$watch(\"file.newCourse\",function(e){e&&(a.productData.imagePath=e.name)}),a.clearImage=function(e){var t=document.querySelector(\"#selectImage\");a.uploading=!1,a.imagePreview=!1,a.productData.imagePath=\"\",a.thumbnail.dataUrl=\"\",s=[],angular.element(t).val(null)},a.easyLevel=function(){a.productData.level=\"fa fa-3x fa-battery-quarter text-primary level-higher-easy\"},a.mediumLevel=function(){a.productData.level=\"fa fa-3x fa-battery-half text-primary level-higher-medium\"},a.hardLevel=function(){a.productData.level=\"fa fa-3x fa-battery-full text-primary level-higher-hard\"},a.sendProduct=function(o,i){a.disabled=!0,a.errorMsg=!1,i?(n.createNewCourse(a.productData).then(function(n){n.data.success?(a.successMsg=n.data.message,t(function(){a.disabled=!1,a.successMsg=!1,e.sendProductForm.$setPristine(),a.productData={},a.imagePreview=!1,a.thumbnail.dataUrl=\"\",s=[],a.inputs=[],angular.forEach(angular.element(document.querySelector(\"#selectImage\")),function(e){angular.element(e).val(null)})},2e3),r.emit(\"product\",n.data.product)):(a.disabled=!1,a.errorMsg=n.data.message,t(function(){a.errorMsg=!1},2e3))}),n.upload(s).then(function(n){n.data.success?(a.uploading=!1,e.file={}):(a.uploading=!1,a.errorMsg=n.data.message,e.file={},t(function(){a.errorMsg=!1},2e3))})):(a.disabled=!1,a.errorMsg=\"Make sure that the form has been completed correctly\",t(function(){a.errorMsg=!1},2e3))},e.showModal=function(){$(\"#createLink\").modal(\"show\")}}]).config([\"$provide\",function(e){e.decorator(\"taOptions\",[\"taRegisterTool\",\"$delegate\",function(e,t){return e(\"backgroundColor\",{display:\"<div spectrum-colorpicker ng-model='color' title='Text background color' on-change='!!color && action(color)' options='options'></div>\",action:function(e){var t=this;if(this.$editor().wrapSelection){this.name;return this.$editor().wrapSelection(\"backColor\",e)}setTimeout(function(){t.action(e)},100)},options:{replacerClassName:\"fa fa-paint-brush\",color:\"transparent\",showButtons:!1,showAlpha:!0,showInput:!0,showInitial:!0,showPalette:!0,showSelectionPalette:!0,maxSelectionSize:10,preferredFormat:\"hex\",palette:[[\"transparent\",\"#205081\",\"#eb3812\",\"rgb(0, 0, 0)\",\"#333333\",\"rgb(67, 67, 67)\",\"rgb(102, 102, 102)\",\"rgb(204, 204, 204)\",\"rgb(217, 217, 217)\",\"rgb(255, 255, 255)\"],[\"rgb(152, 0, 0)\",\"rgb(255, 0, 0)\",\"rgb(255, 153, 0)\",\"rgb(255, 255, 0)\",\"rgb(0, 255, 0)\",\"rgb(0, 255, 255)\",\"rgb(74, 134, 232)\",\"rgb(0, 0, 255)\",\"rgb(153, 0, 255)\",\"rgb(255, 0, 255)\"],[\"rgb(230, 184, 175)\",\"rgb(244, 204, 204)\",\"rgb(252, 229, 205)\",\"rgb(255, 242, 204)\",\"rgb(217, 234, 211)\",\"rgb(208, 224, 227)\",\"rgb(201, 218, 248)\",\"rgb(207, 226, 243)\",\"rgb(217, 210, 233)\",\"rgb(234, 209, 220)\",\"rgb(221, 126, 107)\",\"rgb(234, 153, 153)\",\"rgb(249, 203, 156)\",\"rgb(255, 229, 153)\",\"rgb(182, 215, 168)\",\"rgb(162, 196, 201)\",\"rgb(164, 194, 244)\",\"rgb(159, 197, 232)\",\"rgb(180, 167, 214)\",\"rgb(213, 166, 189)\",\"rgb(204, 65, 37)\",\"rgb(224, 102, 102)\",\"rgb(246, 178, 107)\",\"rgb(255, 217, 102)\",\"rgb(147, 196, 125)\",\"rgb(118, 165, 175)\",\"rgb(109, 158, 235)\",\"rgb(111, 168, 220)\",\"rgb(142, 124, 195)\",\"rgb(194, 123, 160)\",\"rgb(166, 28, 0)\",\"rgb(204, 0, 0)\",\"rgb(230, 145, 56)\",\"rgb(241, 194, 50)\",\"rgb(106, 168, 79)\",\"rgb(69, 129, 142)\",\"rgb(60, 120, 216)\",\"rgb(61, 133, 198)\",\"rgb(103, 78, 167)\",\"rgb(166, 77, 121)\",\"rgb(91, 15, 0)\",\"rgb(102, 0, 0)\",\"rgb(120, 63, 4)\",\"rgb(127, 96, 0)\",\"rgb(39, 78, 19)\",\"rgb(12, 52, 61)\",\"rgb(28, 69, 135)\",\"rgb(7, 55, 99)\",\"rgb(32, 18, 77)\",\"rgb(76, 17, 48)\"]]}}),e(\"fontColor\",{display:\"<spectrum-colorpicker trigger-id='{{trigger}}' title='Font color' ng-model='color' on-change='!!color && action(color)' format='\\\"hex\\\"' options='options'></spectrum-colorpicker>\",action:function(e){var t=this;if(this.$editor().wrapSelection)return this.$editor().wrapSelection(\"foreColor\",e);setTimeout(function(){t.action(e)},100)},options:{replacerClassName:\"fa fa-font\",showButtons:!1,showAlpha:!0,color:!0,showInput:!0,showInitial:!0,showPalette:!0,showSelectionPalette:!0,maxSelectionSize:10,preferredFormat:\"hex\",palette:[[\"#205081\",\"#eb3812\",\"rgb(0, 0, 0)\",\"#333333\",\"rgb(67, 67, 67)\",\"rgb(102, 102, 102)\",\"rgb(204, 204, 204)\",\"rgb(217, 217, 217)\",\"rgb(255, 255, 255)\"],[\"rgb(152, 0, 0)\",\"rgb(255, 0, 0)\",\"rgb(255, 153, 0)\",\"rgb(255, 255, 0)\",\"rgb(0, 255, 0)\",\"rgb(0, 255, 255)\",\"rgb(74, 134, 232)\",\"rgb(0, 0, 255)\",\"rgb(153, 0, 255)\",\"rgb(255, 0, 255)\"],[\"rgb(230, 184, 175)\",\"rgb(244, 204, 204)\",\"rgb(252, 229, 205)\",\"rgb(255, 242, 204)\",\"rgb(217, 234, 211)\",\"rgb(208, 224, 227)\",\"rgb(201, 218, 248)\",\"rgb(207, 226, 243)\",\"rgb(217, 210, 233)\",\"rgb(234, 209, 220)\",\"rgb(221, 126, 107)\",\"rgb(234, 153, 153)\",\"rgb(249, 203, 156)\",\"rgb(255, 229, 153)\",\"rgb(182, 215, 168)\",\"rgb(162, 196, 201)\",\"rgb(164, 194, 244)\",\"rgb(159, 197, 232)\",\"rgb(180, 167, 214)\",\"rgb(213, 166, 189)\",\"rgb(204, 65, 37)\",\"rgb(224, 102, 102)\",\"rgb(246, 178, 107)\",\"rgb(255, 217, 102)\",\"rgb(147, 196, 125)\",\"rgb(118, 165, 175)\",\"rgb(109, 158, 235)\",\"rgb(111, 168, 220)\",\"rgb(142, 124, 195)\",\"rgb(194, 123, 160)\",\"rgb(166, 28, 0)\",\"rgb(204, 0, 0)\",\"rgb(230, 145, 56)\",\"rgb(241, 194, 50)\",\"rgb(106, 168, 79)\",\"rgb(69, 129, 142)\",\"rgb(60, 120, 216)\",\"rgb(61, 133, 198)\",\"rgb(103, 78, 167)\",\"rgb(166, 77, 121)\",\"rgb(91, 15, 0)\",\"rgb(102, 0, 0)\",\"rgb(120, 63, 4)\",\"rgb(127, 96, 0)\",\"rgb(39, 78, 19)\",\"rgb(12, 52, 61)\",\"rgb(28, 69, 135)\",\"rgb(7, 55, 99)\",\"rgb(32, 18, 77)\",\"rgb(76, 17, 48)\"]]}}),e(\"fontName\",{display:\"<span class='custom-border-inline'><button title='Font name' class='btn btn-blue dropdown-toggle' type='button' ng-disabled='isDisabled()' style='padding-top: 4px'><i class='fa fa-font'></i>&nbsp;<i class='fa fa-caret-down'></i></button><ul class='dropdown-menu font-size-style'><li ng-repeat='o in options'><button class='btn btn-blue checked-dropdown' style='font-family: {{o.css}}; width: 100%' type='button' ng-click='action($event, o.css)'><i ng-if='o.active' class='fa fa-check'></i>{{o.name}}</button></li></ul></span>\",action:function(e,t){return e.stopPropagation&&(e.stopPropagation(),$(\"body\").trigger(\"click\")),this.$editor().wrapSelection(\"fontName\",t)},options:[{name:\"Roboto\",css:\"Roboto,sans-serif\"},{name:\"Sans-Serif\",css:\"Arial, Helvetica, sans-serif\"},{name:\"Serif\",css:\"'times new roman', serif\"},{name:\"Wide\",css:\"'arial black', sans-serif\"},{name:\"Narrow\",css:\"'arial narrow', sans-serif\"},{name:\"Comic Sans MS\",css:\"'comic sans ms', sans-serif\"},{name:\"Courier New\",css:\"'courier new', monospace\"},{name:\"Garamond\",css:\"garamond, serif\"},{name:\"Georgia\",css:\"georgia, serif\"},{name:\"Tahoma\",css:\"tahoma, sans-serif\"},{name:\"Trebuchet MS\",css:\"'trebuchet ms', sans-serif\"},{name:\"Helvetica\",css:\"'Helvetica Neue', Helvetica, Arial, sans-serif\"},{name:\"Verdana\",css:\"verdana, sans-serif\"},{name:\"Proxima Nova\",css:\"proxima_nova_rgregular\"}]}),e(\"fontSize\",{display:\"<span class='custom-border-inline'><button title='Font size' class='btn btn-blue dropdown-toggle' type='button' ng-disabled='showHtml()' style='padding-top: 4px'><i class='fa fa-text-height'></i>&nbsp;&nbsp;<i class='fa fa-caret-down'></i></button><ul class='dropdown-menu font-size-style'><li ng-repeat='o in options'><button class='btn btn-blue checked-dropdown' style='font-size: {{o.css}}; width: 100%; ' type='button' ng-click='action($event, o.value)'><i ng-if='o.active' class='fa fa-check'></i> {{o.name}}</button></li></ul></span>\",action:function(e,t){return e.stopPropagation&&(e.stopPropagation(),$(\"body\").trigger(\"click\")),this.$editor().wrapSelection(\"fontSize\",t)},options:[{name:\"8px\",css:\"8px\",value:\"8px\"},{name:\"10px\",css:\"10px\",value:\"10px\"},{name:\"12px\",css:\"12px\",value:\"12px\"},{name:\"14px\",css:\"14px\",value:\"14px\"},{name:\"16px\",css:\"16px\",value:\"16px\"},{name:\"18px\",css:\"18px\",value:\"18px\"},{name:\"20px\",css:\"20px\",value:\"20px\"},{name:\"22px\",css:\"22px\",value:\"22px\"},{name:\"24px\",css:\"24px\",value:\"24px\"},{name:\"26px\",css:\"26px\",value:\"26px\"},{name:\"28px\",css:\"28px\",value:\"28px\"},{name:\"30px\",css:\"30px\",value:\"30px\"},{name:\"32px\",css:\"32px\",value:\"32px\"},{name:\"34px\",css:\"34px\",value:\"34px\"},{name:\"36px\",css:\"36px\",value:\"36px\"}]}),e(\"ulCustom\",{display:\"<span class='custom-span-ul'><button title='Custom list' class='btn btn-blue dropdown-toggle custom-list-addon' type='button'><i class='fa fa-list-alt'></i>&nbsp;&nbsp;<i class='fa fa-caret-down'></i></button><ul class='select-list dropdown-menu'><li ng-repeat='o in options' class='list-style-cms'><button class='{{o.content}}' type='button' ng-click='action($event, o)'></button></li></ul></span>\",action:function(e,t){e.stopPropagation&&(e.stopPropagation(),$(\"body\").trigger(\"click\"));var n=this.$parent.name;return this.$editor().wrapSelection(\"insertUnorderedList\",t,n)},options:[{content:\"glyphicon glyphicon-edit\",css:\"e065\"},{content:\"glyphicon glyphicon-share\",css:\"e066\"},{content:\"glyphicon glyphicon-ok\",css:\"e013\"},{content:\"glyphicon glyphicon-education\",css:\"e233\"},{content:\"fa fa-cogs\",css:\"f085\"},{content:\"glyphicon glyphicon-asterisk\",css:\"g002a\"},{content:\"glyphicon glyphicon-plus\",css:\"g002b\"},{content:\"glyphicon glyphicon-euro\",css:\"g20ac\"},{content:\"glyphicon glyphicon-minus\",css:\"g2212\"},{content:\"glyphicon glyphicon-cloud\",css:\"g2601\"},{content:\"glyphicon glyphicon-envelope\",css:\"g2709\"},{content:\"glyphicon glyphicon-pencil\",css:\"g270f\"},{content:\"glyphicon glyphicon-glass\",css:\"e001\"},{content:\"glyphicon glyphicon-music\",css:\"e002\"},{content:\"glyphicon glyphicon-search\",css:\"e003\"},{content:\"glyphicon glyphicon-heart\",css:\"e005\"},{content:\"glyphicon glyphicon-star\",css:\"e006\"},{content:\"glyphicon glyphicon-star-empty\",css:\"e007\"},{content:\"glyphicon glyphicon-user\",css:\"e008\"},{content:\"glyphicon glyphicon-film\",css:\"e009\"},{content:\"glyphicon glyphicon-th-large\",css:\"e010\"},{content:\"glyphicon glyphicon-th\",css:\"e011\"},{content:\"glyphicon glyphicon-th-list\",css:\"e012\"},{content:\"glyphicon glyphicon-remove\",css:\"e014\"},{content:\"glyphicon glyphicon-zoom-in\",css:\"e015\"},{content:\"glyphicon glyphicon-zoom-out\",css:\"e016\"},{content:\"glyphicon glyphicon-off\",css:\"e017\"},{content:\"glyphicon glyphicon-signal\",css:\"e018\"},{content:\"glyphicon glyphicon-cog\",css:\"e019\"},{content:\"glyphicon glyphicon-trash\",css:\"e020\"},{content:\"glyphicon glyphicon-home\",css:\"e021\"},{content:\"glyphicon glyphicon-file\",css:\"e022\"},{content:\"glyphicon glyphicon-time\",css:\"e023\"},{content:\"glyphicon glyphicon-road\",css:\"e024\"},{content:\"glyphicon glyphicon-download-alt\",css:\"e025\"},{content:\"glyphicon glyphicon-download\",css:\"e026\"},{content:\"glyphicon glyphicon-upload\",css:\"e027\"},{content:\"glyphicon glyphicon-inbox\",css:\"e028\"},{content:\"glyphicon glyphicon-play-circle\",css:\"e029\"},{content:\"glyphicon glyphicon-repeat\",css:\"e030\"},{content:\"glyphicon glyphicon-refresh\",css:\"e031\"},{content:\"glyphicon glyphicon-list-alt\",css:\"e032\"},{content:\"glyphicon glyphicon-lock\",css:\"e033\"},{content:\"glyphicon glyphicon-flag\",css:\"e034\"},{content:\"glyphicon glyphicon-headphones\",css:\"e035\"},{content:\"glyphicon glyphicon-volume-off\",css:\"e036\"},{content:\"glyphicon glyphicon-volume-down\",css:\"e037\"},{content:\"glyphicon glyphicon-volume-up\",css:\"e038\"},{content:\"glyphicon glyphicon-qrcode\",css:\"e039\"},{content:\"glyphicon glyphicon-barcode\",css:\"e040\"},{content:\"glyphicon glyphicon-tag\",css:\"e041\"},{content:\"glyphicon glyphicon-tags\",css:\"e042\"},{content:\"glyphicon glyphicon-book\",css:\"e043\"},{content:\"glyphicon glyphicon-bookmark\",css:\"e044\"},{content:\"glyphicon glyphicon-print\",css:\"e045\"},{content:\"glyphicon glyphicon-camera\",css:\"e046\"},{content:\"glyphicon glyphicon-font\",css:\"e047\"},{content:\"glyphicon glyphicon-bold\",css:\"e048\"},{content:\"glyphicon glyphicon-italic\",css:\"e049\"},{content:\"glyphicon glyphicon-text-height\",css:\"e050\"},{content:\"glyphicon glyphicon-text-width\",css:\"e051\"},{content:\"glyphicon glyphicon-align-left\",css:\"e052\"},{content:\"glyphicon glyphicon-align-center\",css:\"e053\"},{content:\"glyphicon glyphicon-align-right\",css:\"e054\"},{content:\"glyphicon glyphicon-align-justify\",css:\"e055\"},{content:\"glyphicon glyphicon-list\",css:\"e056\"},{content:\"glyphicon glyphicon-indent-left\",css:\"e057\"},{content:\"glyphicon glyphicon-indent-right\",css:\"e058\"},{content:\"glyphicon glyphicon-facetime-video\",css:\"e059\"},{content:\"glyphicon glyphicon-picture\",css:\"e060\"},{content:\"glyphicon glyphicon-map-marker\",css:\"e062\"},{content:\"glyphicon glyphicon-adjust\",css:\"e063\"},{content:\"glyphicon glyphicon-tint\",css:\"e064\"},{content:\"glyphicon glyphicon-check\",css:\"e067\"},{content:\"glyphicon glyphicon-move\",css:\"e068\"},{content:\"glyphicon glyphicon-step-backward\",css:\"e069\"},{content:\"glyphicon glyphicon-fast-backward\",css:\"e070\"},{content:\"glyphicon glyphicon-backward\",css:\"e071\"},{content:\"glyphicon glyphicon-play\",css:\"e072\"},{content:\"glyphicon glyphicon-pause\",css:\"e073\"},{content:\"glyphicon glyphicon-stop\",css:\"e074\"},{content:\"glyphicon glyphicon-forward\",css:\"e075\"},{content:\"glyphicon glyphicon-fast-forward\",css:\"e076\"},{content:\"glyphicon glyphicon-step-forward\",css:\"e077\"},{content:\"glyphicon glyphicon-eject\",css:\"e078\"},{content:\"glyphicon glyphicon-chevron-left\",css:\"e079\"},{content:\"glyphicon glyphicon-chevron-right\",css:\"e080\"},{content:\"glyphicon glyphicon-plus-sign\",css:\"e081\"},{content:\"glyphicon glyphicon-minus-sign\",css:\"e082\"},{content:\"glyphicon glyphicon-remove-sign\",css:\"e083\"},{content:\"glyphicon glyphicon-ok-sign\",css:\"e084\"},{content:\"glyphicon glyphicon-question-sign\",css:\"e085\"},{content:\"glyphicon glyphicon-info-sign\",css:\"e086\"},{content:\"glyphicon glyphicon-screenshot\",css:\"e087\"},{content:\"glyphicon glyphicon-remove-circle\",css:\"e088\"},{content:\"glyphicon glyphicon-ok-circle\",css:\"e089\"},{content:\"glyphicon glyphicon-ban-circle\",css:\"e090\"},{content:\"glyphicon glyphicon-arrow-left\",css:\"e091\"},{content:\"glyphicon glyphicon-arrow-right\",css:\"e092\"},{content:\"glyphicon glyphicon-arrow-up\",css:\"e093\"},{content:\"glyphicon glyphicon-arrow-down\",css:\"e094\"},{content:\"glyphicon glyphicon-share-alt\",css:\"e095\"},{content:\"glyphicon glyphicon-resize-full\",css:\"e096\"},{content:\"glyphicon glyphicon-resize-small\",css:\"e097\"},{content:\"glyphicon glyphicon-exclamation-sign\",css:\"e101\"},{content:\"glyphicon glyphicon-gift\",css:\"e102\"},{content:\"glyphicon glyphicon-leaf\",css:\"e103\"},{content:\"glyphicon glyphicon-fire\",css:\"e104\"},{content:\"glyphicon glyphicon-eye-open\",css:\"e105\"},{content:\"glyphicon glyphicon-eye-close\",css:\"e106\"},{content:\"glyphicon glyphicon-warning-sign\",css:\"e107\"},{content:\"glyphicon glyphicon-plane\",css:\"e108\"},{content:\"glyphicon glyphicon-calendar\",css:\"e109\"},{content:\"glyphicon glyphicon-random\",css:\"e110\"},{content:\"glyphicon glyphicon-comment\",css:\"e111\"},{content:\"glyphicon glyphicon-magnet\",css:\"e112\"},{content:\"glyphicon glyphicon-chevron-up\",css:\"e113\"},{content:\"glyphicon glyphicon-chevron-down\",css:\"e114\"},{content:\"glyphicon glyphicon-retweet\",css:\"e115\"},{content:\"glyphicon glyphicon-shopping-cart\",css:\"e116\"},{content:\"glyphicon glyphicon-folder-close\",css:\"e117\"},{content:\"glyphicon glyphicon-folder-open\",css:\"e118\"},{content:\"glyphicon glyphicon-resize-vertical\",css:\"e119\"},{content:\"glyphicon glyphicon-resize-horizontal\",css:\"e120\"},{content:\"glyphicon glyphicon-hdd\",css:\"e121\"},{content:\"glyphicon glyphicon-bullhorn\",css:\"e122\"},{content:\"glyphicon glyphicon-bell\",css:\"e123\"},{content:\"glyphicon glyphicon-certificate\",css:\"e124\"},{content:\"glyphicon glyphicon-thumbs-up\",css:\"e125\"},{content:\"glyphicon glyphicon-thumbs-down\",css:\"e126\"},{content:\"glyphicon glyphicon-hand-right\",css:\"e127\"},{content:\"glyphicon glyphicon-hand-left\",css:\"e128\"},{content:\"glyphicon glyphicon-hand-up\",css:\"e129\"},{content:\"glyphicon glyphicon-hand-down\",css:\"e130\"},{content:\"glyphicon glyphicon-circle-arrow-right\",css:\"e131\"},{content:\"glyphicon glyphicon-circle-arrow-left\",css:\"e132\"},{content:\"glyphicon glyphicon-circle-arrow-up\",css:\"e133\"},{content:\"glyphicon glyphicon-circle-arrow-down\",css:\"e134\"},{content:\"glyphicon glyphicon-globe\",css:\"e135\"},{content:\"glyphicon glyphicon-wrench\",css:\"e136\"},{content:\"glyphicon glyphicon-tasks\",css:\"e137\"},{content:\"glyphicon glyphicon-filter\",css:\"e138\"},{content:\"glyphicon glyphicon-briefcase\",css:\"e139\"},{content:\"glyphicon glyphicon-fullscreen\",css:\"e140\"},{content:\"glyphicon glyphicon-dashboard\",css:\"e141\"},{content:\"glyphicon glyphicon-paperclip\",css:\"e142\"},{content:\"glyphicon glyphicon-heart-empty\",css:\"e143\"},{content:\"glyphicon glyphicon-link\",css:\"e144\"},{content:\"glyphicon glyphicon-phone\",css:\"e145\"},{content:\"glyphicon glyphicon-pushpin\",css:\"e146\"},{content:\"glyphicon glyphicon-usd\",css:\"e148\"},{content:\"glyphicon glyphicon-gbp\",css:\"e149\"},{content:\"glyphicon glyphicon-sort\",css:\"e150\"},{content:\"glyphicon glyphicon-sort-by-alphabet\",css:\"e151\"},{content:\"glyphicon glyphicon-sort-by-alphabet-alt\",css:\"e152\"},{content:\"glyphicon glyphicon-sort-by-order\",css:\"e153\"},{content:\"glyphicon glyphicon-sort-by-order-alt\",css:\"e154\"},{content:\"glyphicon glyphicon-sort-by-attributes\",css:\"e155\"},{content:\"glyphicon glyphicon-sort-by-attributes-alt\",css:\"e156\"},{content:\"glyphicon glyphicon-unchecked\",css:\"e157\"},{content:\"glyphicon glyphicon-expand\",css:\"e158\"},{content:\"glyphicon glyphicon-collapse-down\",css:\"e159\"},{content:\"glyphicon glyphicon-collapse-up\",css:\"e160\"},{content:\"glyphicon glyphicon-log-in\",css:\"e161\"},{content:\"glyphicon glyphicon-flash\",css:\"e162\"},{content:\"glyphicon glyphicon-log-out\",css:\"e163\"},{content:\"glyphicon glyphicon-new-window\",css:\"e164\"},{content:\"glyphicon glyphicon-record\",css:\"e165\"},{content:\"glyphicon glyphicon-save\",css:\"e166\"},{content:\"glyphicon glyphicon-saved\",css:\"e168\"},{content:\"glyphicon glyphicon-import\",css:\"e169\"},{content:\"glyphicon glyphicon-export\",css:\"e170\"},{content:\"glyphicon glyphicon-send\",css:\"e171\"},{content:\"glyphicon glyphicon-floppy-disk\",css:\"e172\"},{content:\"glyphicon glyphicon-floppy-saved\",css:\"e173\"},{content:\"glyphicon glyphicon-floppy-remove\",css:\"e174\"},{content:\"glyphicon glyphicon-floppy-save\",css:\"e175\"},{content:\"glyphicon glyphicon-floppy-open\",css:\"e176\"},{content:\"glyphicon glyphicon-credit-card\",css:\"e177\"},{content:\"glyphicon glyphicon-transfer\",css:\"e178\"},{content:\"glyphicon glyphicon-cutlery\",css:\"e179\"},{content:\"glyphicon glyphicon-header\",css:\"e180\"},{content:\"glyphicon glyphicon-compressed\",css:\"e181\"},{content:\"glyphicon glyphicon-earphone\",css:\"e182\"},{content:\"glyphicon glyphicon-phone-alt\",css:\"e183\"},{content:\"glyphicon glyphicon-tower\",css:\"e184\"},{content:\"glyphicon glyphicon-stats\",css:\"e185\"},{content:\"glyphicon glyphicon-sd-video\",css:\"e186\"},{content:\"glyphicon glyphicon-hd-video\",css:\"e187\"},{content:\"glyphicon glyphicon-subtitles\",css:\"e188\"},{content:\"glyphicon glyphicon-sound-stereo\",css:\"e189\"},{content:\"glyphicon glyphicon-sound-dolby\",css:\"e190\"},{content:\"glyphicon glyphicon-sound-5-1\",css:\"e191\"},{content:\"glyphicon glyphicon-sound-6-1\",css:\"e192\"},{content:\"glyphicon glyphicon-sound-7-1\",css:\"e193\"},{content:\"glyphicon glyphicon-copyright-mark\",css:\"e194\"},{content:\"glyphicon glyphicon-registration-mark\",css:\"e195\"},{content:\"glyphicon glyphicon-cloud-download\",css:\"e197\"},{content:\"glyphicon glyphicon-cloud-upload\",css:\"e198\"},{content:\"glyphicon glyphicon-tree-conifer\",css:\"e199\"},{content:\"glyphicon glyphicon-tree-deciduous\",css:\"e200\"},{content:\"glyphicon glyphicon-cd\",css:\"e201\"},{content:\"glyphicon glyphicon-save-file\",css:\"e202\"},{content:\"glyphicon glyphicon-open-file\",css:\"e203\"},{content:\"glyphicon glyphicon-level-up\",css:\"e204\"},{content:\"glyphicon glyphicon-copy\",css:\"e205\"},{content:\"glyphicon glyphicon-paste\",css:\"e206\"},{content:\"glyphicon glyphicon-alert\",css:\"e209\"},{content:\"glyphicon glyphicon-equalizer\",css:\"e210\"},{content:\"glyphicon glyphicon-king\",css:\"e211\"},{content:\"glyphicon glyphicon-queen\",css:\"e212\"},{content:\"glyphicon glyphicon-pawn\",css:\"e213\"},{content:\"glyphicon glyphicon-bishop\",css:\"e214\"},{content:\"glyphicon glyphicon-knight\",css:\"e215\"},{content:\"glyphicon glyphicon-baby-formula\",css:\"e216\"},{content:\"glyphicon glyphicon-tent\",css:\"g26fa\"},{content:\"glyphicon glyphicon-blackboard\",css:\"e218\"},{content:\"glyphicon glyphicon-bed\",css:\"e219\"},{content:\"glyphicon glyphicon-apple\",css:\"f8ff\"},{content:\"glyphicon glyphicon-erase\",css:\"e221\"},{content:\"glyphicon glyphicon-hourglass\",css:\"g231b\"},{content:\"glyphicon glyphicon-lamp\",css:\"e223\"},{content:\"glyphicon glyphicon-duplicate\",css:\"e224\"},{content:\"glyphicon glyphicon-piggy-bank\",css:\"e225\"},{content:\"glyphicon glyphicon-scissors\",css:\"e226\"},{content:\"glyphicon glyphicon-bitcoin\",css:\"e227\"},{content:\"glyphicon glyphicon-yen\",css:\"g00a5\"},{content:\"glyphicon glyphicon-ruble\",css:\"g20bd\"},{content:\"glyphicon glyphicon-scale\",css:\"e230\"},{content:\"glyphicon glyphicon-ice-lolly\",css:\"e231\"},{content:\"glyphicon glyphicon-ice-lolly-tasted\",css:\"e232\"},{content:\"glyphicon glyphicon-option-horizontal\",css:\"e234\"},{content:\"glyphicon glyphicon-option-vertical\",css:\"e235\"},{content:\"glyphicon glyphicon-menu-hamburger\",css:\"e236\"},{content:\"glyphicon glyphicon-modal-window\",css:\"e237\"},{content:\"glyphicon glyphicon-oil\",css:\"e238\"},{content:\"glyphicon glyphicon-grain\",css:\"e239\"},{content:\"glyphicon glyphicon-sunglasses\",css:\"e240\"},{content:\"glyphicon glyphicon-text-size\",css:\"e241\"},{content:\"glyphicon glyphicon-text-color\",css:\"e242\"},{content:\"glyphicon glyphicon-text-background\",css:\"e243\"},{content:\"glyphicon glyphicon-object-align-top\",css:\"e244\"},{content:\"glyphicon glyphicon-object-align-bottom\",css:\"e245\"},{content:\"glyphicon glyphicon-object-align-horizontal\",css:\"e246\"},{content:\"glyphicon glyphicon-object-align-left\",css:\"e247\"},{content:\"glyphicon glyphicon-object-align-vertical\",css:\"e248\"},{content:\"glyphicon glyphicon-object-align-right\",css:\"e249\"},{content:\"glyphicon glyphicon-triangle-right\",css:\"e250\"},{content:\"glyphicon glyphicon-triangle-left\",css:\"e251\"},{content:\"glyphicon glyphicon-triangle-bottom\",css:\"e252\"},{content:\"glyphicon glyphicon-triangle-top\",css:\"e253\"},{content:\"glyphicon glyphicon-console\",css:\"e254\"},{content:\"glyphicon glyphicon-superscript\",css:\"e255\"},{content:\"glyphicon glyphicon-subscript\",css:\"e256\"},{content:\"glyphicon glyphicon-menu-left\",css:\"e257\"},{content:\"glyphicon glyphicon-menu-right\",css:\"e258\"},{content:\"glyphicon glyphicon-menu-down\",css:\"e259\"},{content:\"glyphicon glyphicon-menu-up\",css:\"e260\"},{content:\"glyphicon glyphicon-edit\",css:\"ee065\"},{content:\"glyphicon glyphicon-share\",css:\"ee066\"},{content:\"glyphicon glyphicon-ok\",css:\"ee013\"},{content:\"glyphicon glyphicon-education\",css:\"ee233\"},{content:\"fa fa-cogs\",css:\"ff085\"}]}),e(\"switchViewContent\",{display:\"<span class='span-switch btn btn-default'><button class='switch-but' type='button' ng-disabled='isDisabled()' ng-click='action()' title='Preview'><i class='glyphicon glyphicon-search'></i></button></span>\",action:function(){$(\"#switchContentView\").modal(\"show\")}}),e(\"inlineUl\",{display:\"<span class='span-switch btn btn-default'><button class='switch-but' type='button' ng-disabled='isDisabled()' ng-click='action($event)' title='Underline on/off'><i class='glyphicon glyphicon-transfer'></i></button></span>\",action:function(e){return e.stopPropagation&&(e.stopPropagation(),$(\"body\").trigger(\"click\")),this.$editor().wrapSelection(this.name)}}),e(\"uiAce\",{display:\"<span class='select-ui-language'><button title='Add code snippet' class='btn btn-blue dropdown-toggle' type='button' ng-disabled='isDisabled()'><i class='glyphicon glyphicon-file'></i>&nbsp;<i class='fa fa-caret-down'></i></button><ul class='dropdown-menu font-size-style'><li ng-repeat='o in options'><button class='btn btn-blue checked-dropdown' style=' width: 100%' type='button' ng-click='action($event, o.language)'><i class='{{o.class}}'></i>{{o.language}}</button></li></ul></span>\",action:function(e,t){return event.stopPropagation&&(event.stopPropagation(),$(\"body\").trigger(\"click\")),this.$editor().wrapSelection(this.name,t)},activeState:function(){return this.$editor().queryFormatBlockState(\"pre\")},options:[{language:\"JAVASCRIPT\",class:\"fa fa-code\"},{language:\"HTML\",class:\"fa fa-html5\"},{language:\"CSS\",class:\"fa fa-css3\"}]}),e(\"addBorder\",{display:\"<span class='custom-border-inline'><button title='Underline color' class='btn btn-blue dropdown-toggle' type='button' style='padding-top: 4px'><i class='fa fa-eyedropper'></i>&nbsp;&nbsp;<i class='fa fa-caret-down'></i></button><ul class='select-list dropdown-menu borderDropStyleC'><li ng-repeat='o in options' class='list-style-cms'><button class='borderStyleC' style='background-color:{{o.color}}' type='button' ng-click='action($event, o)' title='{{o.color}}'></button></li></ul></span>\",action:function(e,t){return e.stopPropagation&&(e.stopPropagation(),$(\"body\").trigger(\"click\")),this.$editor().wrapSelection(this.$parent.name,t)},options:[{class:\"borderC1\",color:\"#205081\"},{class:\"borderC2\",color:\"#000\"},{class:\"borderC3\",color:\"#333\"},{class:\"borderC4\",color:\"#666\"},{class:\"borderC5\",color:\"#999\"},{class:\"borderC6\",color:\"#aaa\"},{class:\"borderC7\",color:\"#ccc\"},{class:\"borderC8\",color:\"#ddd\"},{class:\"borderC9\",color:\"#eee\"},{class:\"borderC10\",color:\"rgb(152, 0, 0)\"},{class:\"borderC11\",color:\"rgb(255, 0, 0)\"},{class:\"borderC12\",color:\"rgb(255, 153, 0)\"},{class:\"borderC13\",color:\"rgb(255, 255, 0)\"},{class:\"borderC14\",color:\"rgb(0, 255, 0)\"},{class:\"borderC15\",color:\"rgb(0, 255, 255)\"},{class:\"borderC16\",color:\"rgb(74, 134, 232)\"},{class:\"borderC17\",color:\"rgb(0, 0, 255)\"},{class:\"borderC18\",color:\"rgb(153, 0, 255)\"},{class:\"borderC19\",color:\"rgb(255, 0, 255)\"},{class:\"borderC20\",color:\"rgb(230, 184, 175)\"},{class:\"borderC21\",color:\"rgb(244, 204, 204)\"},{class:\"borderC22\",color:\"rgb(252, 229, 205)\"},{class:\"borderC23\",color:\"rgb(255, 242, 204)\"},{class:\"borderC24\",color:\"rgb(217, 234, 211)\"},{class:\"borderC25\",color:\"rgb(208, 224, 227)\"},{class:\"borderC26\",color:\"rgb(201, 218, 248)\"},{class:\"borderC27\",color:\"rgb(207, 226, 243)\"},{class:\"borderC28\",color:\"rgb(217, 210, 233)\"},{class:\"borderC29\",color:\"rgb(234, 209, 220)\"},{class:\"borderC30\",color:\"rgb(221, 126, 107)\"},{class:\"borderC31\",color:\"rgb(234, 153, 153)\"},{class:\"borderC32\",color:\"rgb(249, 203, 156)\"},{class:\"borderC33\",color:\"rgb(255, 229, 153)\"},{class:\"borderC34\",color:\"rgb(182, 215, 168)\"},{class:\"borderC35\",color:\"rgb(162, 196, 201)\"},{class:\"borderC36\",color:\"rgb(164, 194, 244)\"},{class:\"borderC37\",color:\"rgb(159, 197, 232)\"},{class:\"borderC38\",color:\"rgb(180, 167, 214)\"},{class:\"borderC39\",color:\"rgb(213, 166, 189)\"},{class:\"borderC40\",color:\"rgb(204, 65, 37)\"},{class:\"borderC41\",color:\"rgb(224, 102, 102)\"},{class:\"borderC42\",color:\"rgb(246, 178, 107)\"},{class:\"borderC43\",color:\"rgb(255, 217, 102)\"},{class:\"borderC44\",color:\"rgb(147, 196, 125)\"},{class:\"borderC45\",color:\"rgb(118, 165, 175)\"},{class:\"borderC46\",color:\"rgb(109, 158, 235)\"},{class:\"borderC47\",color:\"rgb(111, 168, 220)\"},{class:\"borderC48\",color:\"rgb(142, 124, 195)\"},{class:\"borderC49\",color:\"rgb(194, 123, 160)\"},{class:\"borderC50\",color:\"rgb(166, 28, 0)\"},{class:\"borderC51\",color:\"rgb(204, 0, 0)\"},{class:\"borderC52\",color:\"rgb(230, 145, 56)\"},{class:\"borderC53\",color:\"rgb(241, 194, 50)\"},{class:\"borderC54\",color:\"rgb(106, 168, 79)\"},{class:\"borderC55\",color:\"rgb(69, 129, 142)\"},{class:\"borderC56\",color:\"rgb(60, 120, 216)\"},{class:\"borderC57\",color:\"rgb(61, 133, 198)\"},{class:\"borderC58\",color:\"rgb(103, 78, 167)\"},{class:\"borderC59\",color:\"rgb(166, 77, 121)\"},{class:\"borderC60\",color:\"rgb(91, 15, 0)\"},{class:\"borderC61\",color:\"rgb(102, 0, 0)\"},{class:\"borderC62\",color:\"rgb(120, 63, 4)\"},{class:\"borderC63\",color:\"rgb(127, 96, 0)\"},{class:\"borderC64\",color:\"rgb(39, 78, 19)\"},{class:\"borderC65\",color:\"rgb(12, 52, 61)\"},{class:\"borderC66\",color:\"rgb(28, 69, 135)\"},{class:\"borderC67\",color:\"rgb(7, 55, 99)\"},{class:\"borderC68\",color:\"rgb(32, 18, 77)\"},{class:\"borderC69\",color:\"rgb(76, 17, 48)\"}]}),t.toolbar[3].push(\"inlineUl\",\"backgroundColor\",\"fontColor\",\"fontName\",\"fontSize\",\"ulCustom\",\"addBorder\",\"switchViewContent\",\"uiAce\"),t}])}]).directive(\"dropdownToggle\",[\"$document\",\"$location\",function(e,t){var n=null,o=angular.noop;return{restrict:\"CA\",link:function(t,a,r){t.$watch(\"$location.path\",function(){o()}),a.parent().bind(\"click\",function(){o()}),a.bind(\"click\",function(t){var r=a===n;t.preventDefault(),t.stopPropagation(),n&&o(),r||a.hasClass(\"disabled\")||a.prop(\"disabled\")||(a.parent().addClass(\"open\"),n=a,o=function(t){t&&(t.preventDefault(),t.stopPropagation()),e.unbind(\"click\",o),a.parent().removeClass(\"open\"),o=angular.noop,n=null},e.bind(\"click\",o))})}}}]).directive(\"fileModel\",[\"$parse\",function(e){return{restrict:\"A\",link:function(t,n,o){var a=e(o.fileModel).assign;n.bind(\"change\",function(){t.$apply(function(){a(t,n[0].files[0])})})}}}]),angular.module(\"profileController\",[\"userServices\",\"authServices\"]).controller(\"profileCtrl\",[\"$scope\",\"User\",\"AuthToken\",\"$timeout\",function(e,t,n,o){var a=this;a.saveChangesLoading=!1,a.successChanged=!1,a.correctInput=!0,t.editMyProfile().then(function(e){a.disabledProfile=!0,a.change={},e.data.success?(a.change.changeUsername=e.data.user.username,a.change.changeEmail=e.data.user.email,a.change.changeName=e.data.user.name,a.change.changeBirthday=e.data.user.birthday):a.usernameMsg=e.data.message}),a.editProfile=function(){a.disabledProfile=!1},a.saveChanges=function(r,s){a.correctInput=!1,s&&(a.saveChangesLoading=!0,t.saveChangesAccount(a.change).then(function(t){t.data.success?(n.setToken(t.data.token),o(function(){a.disabledProfile=!0,e.editAccountUser.$setPristine(),e.main.username=t.data.user.username,a.successChanged=t.data.message},1e3),o(function(){a.successChanged=!1,a.correctInput=!0},3e3),a.saveChangesLoading=!1,a.emailMsg=!1,a.usernameMsg=!1):t.data.message.username?(e.editAccountUser.changeUsername.$setValidity(\"changeUsername\",!1),a.usernameErrMsg=t.data.message.username.message,a.saveChangesLoading=!1):t.data.message.email?(e.editAccountUser.changeEmail.$setValidity(\"changeEmail\",!1),a.emailErrMsg=t.data.message.email.message,a.saveChangesLoading=!1):t.data.message.name?(e.editAccountUser.changeName.$setValidity(\"changeName\",!1),a.nameErrMsg=t.data.message.name.message,a.saveChangesLoading=!1):(e.editAccountUser.$setValidity(\"editAccountUser\",!1),a.saveChangesLoading=!1)}))},a.checkChangedUsername=function(n){a.checkingUsername=!0,a.usernameInvalid=!1,a.usernameMsg=!1,a.usernameErrMsg=!1,t.checkChangedUsername(a.change).then(function(t){t.data.success?(a.checkingUsername=!1,o(function(){a.usernameMsg=!0,a.usernameInvalid=!1},900),e.editAccountUser.changeUsername.$setValidity(\"changeUsername\",!0)):(a.checkingUsername=!1,o(function(){a.usernameInvalid=!0,a.usernameErrMsg=t.data.message},500),e.editAccountUser.changeUsername.$setValidity(\"changeUsername\",!1))})},a.checkChangedEmail=function(n){a.checkingEmail=!0,a.emailInvalid=!1,a.emailMsg=!1,a.emailErrMsg=!1,t.checkChangedEmail(a.change).then(function(t){t.data.success?(a.checkingEmail=!1,o(function(){a.emailInvalid=!1,a.emailMsg=!0},900),e.editAccountUser.changeEmail.$setValidity(\"changeEmail\",!0)):(a.checkingEmail=!1,o(function(){a.emailInvalid=!0,a.emailErrMsg=t.data.message}),e.editAccountUser.changeEmail.$setValidity(\"changeEmail\",!1))})},a.checkCurrPass=function(e){a.passwordInvalid=!1,a.passMsg=!1,a.passErrMsg=!1,a.checkingPass=!0,t.checkCurrPass(a.pass).then(function(e){e.data.success?(a.checkingPass=!1,a.passwordInvalid=!1,o(function(){a.passMsg=!0},900)):(a.checkingPass=!1,o(function(){a.passErrMsg=e.data.message,a.passwordInvalid=!0},900))})},a.comparePasswords=function(e){a.compareInvalid=!1,a.comMsg=!1,a.comErrPass=!1,a.checkingCom=!0,t.comparePasswords(a.pass).then(function(e){e.data.success?(a.checkingCom=!1,a.compareInvalid=!1,o(function(){a.comMsg=!0},900)):(a.checkingCom=!1,o(function(){a.comErrPass=e.data.message,a.compareInvalid=!0},900))})},a.saveChangePassword=function(n,r){r&&(a.passMsg=!1,a.saveNewPassword=!0,t.saveChangePassword(a.pass).then(function(t){t.data.success?(a.saveNewPassword=!1,o(function(){a.showPassMsg=t.data.message},1e3),o(function(){a.showPassMsg=!1,e.changePasswordForm.$setPristine(),a.pass={currentPass:\"\",newPass:\"\",confirmPass:\"\"}},3e3)):(a.saveNewPassword=!1,o(function(){a.showPassErr=t.data.message},1e3),o(function(){a.showPassErr=!1},3e3))}))}}]).controller(\"ordersCtrl\",[\"$scope\",\"User\",function(e,t){var n=this;t.getMyOrdersCourse().then(function(e){n.orders=e.data.orders,e.data.orders.forEach(function(e){\"COMPLETED\"===e.status?e.realized=\"Yes\":e.realized=\"No\"})})}]),angular.module(\"userTests\",[\"userServices\",\"authServices\"]).controller(\"testsCtrl\",[\"$scope\",\"$timeout\",\"quizProgress\",\"scoreKeeper\",function(e,t,n,o){e.quizProgress=n,e.quizData={quizMetadata:{title:\"Javascript quiz example\",introImg:\"http://interactive.wttw.com/sites/default/files/styles/small-hero/public/B12_b.jpg\"},quizQuestions:[{question:\"The Chicago Loop got its name from:\",questionImg:\"http://interactive.wttw.com/sites/default/files/styles/hero/public/Q1.jpg\",feedback:\"Before the “L” came to the Loop, steam-powered cable cars circulated downtown, giving the area its name. Later, the elevated tracks and trains of the “L” made the Loop even more accessible to people throughout the Chicago region.\",options:[{name:\"The “L” tracks that circle the area.\",correct:!1},{name:\"Cable cars that circulated downtown before the “L” was built.\",correct:!0},{name:\"A turnaround circle for horse-drawn carriages.\",correct:!1}]},{question:\"What caused the Great Chicago Fire?\",questionImg:\"http://interactive.wttw.com/sites/default/files/styles/hero/public/Q2.jpg\",feedback:\"The fire did start in the vicinity of the O’Leary’s barn, but whether a cow kicked over a lantern, or a cinder came from a neighboring chimney, or a drunken neighbor dropped his pipe onto a pile of hay, or a meteor strike occurred (all theories that have been, ahem, hotly debated), no one knows for sure what happened in that barn, and the fire’s initial spark has never been definitively established.\",options:[{name:\"Mrs. O’Leary’s cow.\",correct:!1},{name:\"A meteor strike.\",correct:!1},{name:\"No one knows for sure.\",correct:!0}]}]},e.quizQuestions=e.quizData.quizQuestions,e.quizMetadata=e.quizData.quizMetadata,n.lastQuestion=e.quizQuestions.length,n.loading=!1,n.inProgress=!0,e.startQuiz=function(){n.currentQuestion=0,n.imageToPreload=1},e.nextQuestion=function(){n.currentQuestion<n.lastQuestion&&(n.currentQuestion=n.currentQuestion+1,n.currentQuestionFriendly=n.currentQuestionFriendly+1,n.imageToPreload=n.imageToPreload+1)},e.answerQuestion=function(t){e.quizQuestions[n.currentQuestion].answered=!0,angular.forEach(e.quizQuestions[n.currentQuestion].options,function(e){e.name===t.selected?e.selected=!0:e.selected=!1})},e.checkAnswer=function(){e.quizQuestions[n.currentQuestion].answerChecked=!0,angular.forEach(e.quizQuestions[n.currentQuestion].options,function(t){t.selected&&(t.correct?e.quizQuestions[n.currentQuestion].answerWasRight=!0:e.quizQuestions[n.currentQuestion].answerWasRight=!1)})},e.getScore=function(){n.inProgress=!1,n.finished=!0,n.calculatingScore=!0,e.score=o.calculateScore(e.quizQuestions),t(function(){n.calculatingScore=!1},1500)},e.startOver=function(){angular.forEach(e.quizQuestions,function(e){e.answered=!1,e.answerWasRight=!1,e.answerChecked=!1,angular.forEach(e.options,function(e){e.selected=!1})}),n.inProgress=!0,n.finished=!1,n.currentQuestion=0,n.currentQuestionFriendly=1}}]).factory(\"quizProgress\",function(){return{currentQuestion:0,imageToPreload:0,currentQuestionFriendly:1,lastQuestion:0,loading:!0,inProgress:!1,finished:!1,calculatingScore:!1}}).service(\"scoreKeeper\",function(){this.calculateScore=function(e){var t=0;return angular.forEach(e,function(e){e.answerWasRight&&(t+=1)}),(t/e.length*100).toFixed()+\"%\"}}).directive(\"progressBar\",[\"quizProgress\",function(e){return{restrict:\"A\",link:function(t,n,o){t.$watch(\"quizProgress\",function(t,o){t&&n.css(\"width\",e.currentQuestionFriendly/e.lastQuestion*100+\"%\")},!0)}}}]).directive(\"imagePreload\",[\"quizProgress\",function(e){return{restrict:\"EA\",template:\"<img style='display:none;' ng-src='{{quizQuestions[quizProgress.imageToPreload].questionImg}}'/>\"}}]).directive(\"animateProgression\",[\"quizProgress\",\"$timeout\",function(e,t){return{restrict:\"A\",link:function(e,n,o){e.$watch(\"quizProgress.currentQuestion\",function(e,o){e&&(n.addClass(\"question-animate\"),t(function(){n.removeClass(\"question-animate\")},1500))})}}}]),angular.module(\"UserControllers\",[\"userServices\"]).controller(\"regCtrl\",[\"$state\",\"$timeout\",\"User\",\"$scope\",function(e,t,n,o){var a=this;a.regUser=function(o,r,s){a.disabled=!0,a.loading=!0,a.errorMsg=!1,r&&s?n.create(a.regData).then(function(n){n.data.success?(a.loading=!1,a.successMsg=n.data.message,t(function(){e.go(\"parent.home\")},8e3)):(a.disabled=!1,a.loading=!1,a.errorMsg=n.data.message,t(function(){a.errorMsg=!1},2500))}):(a.disabled=!1,a.loading=!1,a.errorMsg=\"Make sure that the form has been completed correctly\",t(function(){a.errorMsg=!1},2500))},a.checkUsername=function(e,t){t&&(a.checkingUsername=!0,a.usernameMsg=!1,a.usernameInvalid=!1,n.checkUsername(a.regData).then(function(e){e.data.success?(a.checkingUsername=!1,a.usernameInvalid=!1,a.usernameMsg=e.data.message):(a.checkingUsername=!1,a.usernameInvalid=!0,a.usernameMsg=e.data.message)}))},a.checkEmail=function(e,t){t&&(a.checkingEmail=!0,a.emailMsg=!1,a.emailInvalid=!1,n.checkEmail(a.regData).then(function(e){e.data.success?(a.checkingEmail=!1,a.emailInvalid=!1,a.emailMsg=e.data.message):(a.checkingEmail=!1,a.emailInvalid=!0,a.emailMsg=e.data.message)}))}}]).directive(\"match\",function(){return{restrict:\"A\",controller:[\"$scope\",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm===t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,n){n.$observe(\"match\",function(){e.matches=JSON.parse(n.match),e.doConfirm(e.matches)}),e.$watch(\"confirm\",function(){e.matches=JSON.parse(n.match),e.doConfirm(e.matches)})}}}),angular.module(\"videoPlayer\",[\"userServices\",\"authServices\",\"ngSanitize\",\"com.2fdevs.videogular\",\"com.2fdevs.videogular.plugins.controls\",\"com.2fdevs.videogular.plugins.overlayplay\",\"com.2fdevs.videogular.plugins.poster\"]).controller(\"videoCtrl\",[\"User\",function(e){var t=this;t.currentPage=1,t.itemsPerPage=8,t.loading=!0,e.getProducts().then(function(n){t.products=n.data.products,e.getMyCourses().then(function(e){t.username=encodeURI(e.data.user),t.myCourses=t.products.filter(function(t){return-1!==e.data.courses.indexOf(t._id)})})})}]).controller(\"videoCtrlDetail\",[\"$sce\",\"$scope\",\"User\",\"$stateParams\",\"$state\",function(e,t,n,o,a){var r=this;r.loading=!0,r.config={preload:\"none\",sources:[{src:e.trustAsResourceUrl(\"http://static.videogular.com/assets/videos/videogular.mp4\"),type:\"video/mp4\"},{src:e.trustAsResourceUrl(\"http://static.videogular.com/assets/videos/videogular.webm\"),type:\"video/webm\"},{src:e.trustAsResourceUrl(\"http://static.videogular.com/assets/videos/videogular.ogg\"),type:\"video/ogg\"}],tracks:[{src:\"http://www.videogular.com/assets/subs/pale-blue-dot.vtt\",kind:\"subtitles\",srclang:\"en\",label:\"English\",default:\"\"}],theme:{url:\"https://unpkg.com/videogular@2.1.2/dist/themes/default/videogular.css\"},plugins:{poster:\"http://www.videogular.com/assets/images/videogular.png\"}},n.videoDetail(o.username,o.id).then(function(e){e.data.success?r.productDetail=e.data.product:(r.loading=!0,a.go(\"parent.video\"))}),t.$on(\"$viewContentLoaded\",function(){r.loading=!1})}])}});","extractedComments":[]}